/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3afbdd=_0x4595;(function(_0x51fd23,_0x5701c0){const _0x2ec063=_0x4595,_0x2fa30b=_0x51fd23();while(!![]){try{const _0x2637d4=-parseInt(_0x2ec063(0x106))/0x1*(-parseInt(_0x2ec063(0x125))/0x2)+parseInt(_0x2ec063(0xed))/0x3*(parseInt(_0x2ec063(0xfe))/0x4)+-parseInt(_0x2ec063(0x10b))/0x5*(parseInt(_0x2ec063(0x133))/0x6)+-parseInt(_0x2ec063(0x11d))/0x7*(parseInt(_0x2ec063(0xd0))/0x8)+parseInt(_0x2ec063(0xca))/0x9*(-parseInt(_0x2ec063(0xd3))/0xa)+parseInt(_0x2ec063(0xe5))/0xb+-parseInt(_0x2ec063(0xcb))/0xc*(-parseInt(_0x2ec063(0x10d))/0xd);if(_0x2637d4===_0x5701c0)break;else _0x2fa30b['push'](_0x2fa30b['shift']());}catch(_0x1a7c97){_0x2fa30b['push'](_0x2fa30b['shift']());}}}(_0x4959,0xd2899));import{Plugin as _0x393583}from'ckeditor5/src/core.js';import{CKEditorError as _0x31046b,uid as _0x415ecb}from'ckeditor5/src/utils.js';import _0x42d28d from'./revisiontracker.js';import _0x1256f8 from'./ui/revisionhistory/revisionhistoryui.js';import _0x3fce6b from'./revisionviewer.js';import _0x3f91d6 from'./ui/revisionviewer/revisionviewerui.js';import _0x1500af from'./ui/revisionssidebar/revisionssidebar.js';import _0x2e5281 from'./editor/revisionviewereditor.js';import{getTranslation as _0x23fa37}from'./utils/common-translations.js';import{sanitizeEditorConfig as _0x45d82a}from'ckeditor5-collaboration/src/collaboration-core.js';const p=[_0x3afbdd(0x13b),_0x3afbdd(0xe9)];function _0x4595(_0x347ae0,_0x323ea7){const _0x495979=_0x4959();return _0x4595=function(_0x4595e5,_0x243dc3){_0x4595e5=_0x4595e5-0xbf;let _0x1df596=_0x495979[_0x4595e5];return _0x1df596;},_0x4595(_0x347ae0,_0x323ea7);}function _0x4959(){const _0x2723ec=['markers','change','error','style','pluginName','toLocaleDateString','bind','plugins','12184194zWzjtH','revisionHistory.showRevisionViewerCallback','removeAttribute','roots','RestrictedEditingMode','showRevisionViewerCallback','toVersion','none','9ORPBrz','detachRoot','Annotations','revisionHistory','Restored','getAttributeKeys','RevisionHistory','restrictedEditingException','commands','_showRevisionViewer','toLocaleTimeString','get','setSelection','getRevision','RevisionViewer','setAttribute','revisionHistory.viewerContainer','732356PTLiJe','Users','saveRevision','toJSON','result','changesNavigation','set','repository','61EQkziy','isReady','getUser','enableReadOnlyMode','_getRevisionViewerEditorConfig','5226385igPRHx','name','3679vCOSXt','RevisionsRepository','has','isOpen','addRoot','push','revisionHistory.restoreRevisionCallback','revisionHistory.closeRevisionViewerCallback','creator','isEnabled','document','revision-history-viewer-opened','disableReadOnlyMode','enqueueChange','init','_recalculatePageBreaks','5729318BUKwbw','block','parse','PaginationLookup','requires','long','_cleanUp','removeSelectionAttribute','49174sHighz','update','destroy','_closeRevisionViewer','refreshVisibility','_viewerEditor','revision-history-missing-configuration','includes','Dialog','_restoreRevision','editor','Autosave','keys','save','6SJzUio','isReadOnly','rootName','isAnonymous','isAttached','catch','RevisionTracker','exitToEditing','RevisionHistoryUI','locale','getRoot','_enhanceCloseRevisionViewerCallback','data','fromVersion','remove','addUser','addRevisionData','refreshPositioning','createdAt','from','revisionHistory.viewerEditorElement','lazyRoots','createRangeIn','translations','closeRevisionViewerCallback','selection','RevisionViewerIntegration','uiLanguage','revisionHistory.requireRevisionName','getRevisionRootsAttributes','revisionHistory.editorContainer','$graveyard','create','toolbar','hide','getRevisionData','_enhanceShowRevisionViewerCallback','model','2166426rVFfeD','77688EyMCUK','getRevisions','end','insert','restoreRevision','16hocuHU','config','display','60tiDUTA','_update','users','removeMarker','define','adapter','numeric','then','indexOf','getMarkersGroup'];_0x4959=function(){return _0x2723ec;};return _0x4959();}class k extends _0x393583{static get[_0x3afbdd(0xe1)](){const _0x31b6d9=_0x3afbdd;return _0x31b6d9(0x14d);}constructor(_0x30698e){const _0x55f9a2=_0x3afbdd;super(_0x30698e),this[_0x55f9a2(0x102)]=_0x55f9a2(0xcd);}}export default class H extends _0x393583{static get[_0x3afbdd(0xe1)](){const _0x55ce3c=_0x3afbdd;return _0x55ce3c(0xf3);}static get[_0x3afbdd(0x121)](){return[_0x42d28d,_0x1256f8];}constructor(_0x3f8e7e){const _0x269071=_0x3afbdd;if(super(_0x3f8e7e),!this[_0x269071(0x12f)][_0x269071(0xd1)][_0x269071(0xf8)](_0x269071(0xf0)))throw new _0x31046b(_0x269071(0x12b),this);this[_0x269071(0x12a)]=null,this[_0x269071(0x12f)][_0x269071(0xd1)][_0x269071(0xd7)](_0x269071(0xe6),_0x4aec48=>this[_0x269071(0xf6)]({..._0x4aec48,'translations':this[_0x269071(0x12f)][_0x269071(0x13c)][_0x269071(0x14a)]})),this[_0x269071(0x12f)][_0x269071(0xd1)][_0x269071(0xd7)](_0x269071(0x114),_0x409458=>this[_0x269071(0x128)](_0x409458)),this[_0x269071(0x12f)][_0x269071(0xd1)][_0x269071(0xd7)](_0x269071(0x113),_0x1403a2=>this[_0x269071(0x12e)](_0x1403a2)),this[_0x269071(0x12f)][_0x269071(0xd1)][_0x269071(0xd7)](_0x269071(0xc0),!0x1),this[_0x269071(0xc8)](),this[_0x269071(0x13e)]();}set[_0x3afbdd(0xd8)](_0x388ab0){const _0x102ad2=_0x3afbdd;this[_0x102ad2(0x12f)][_0x102ad2(0xe4)][_0x102ad2(0xf8)](_0x102ad2(0x139))[_0x102ad2(0xd8)]=_0x388ab0;}get[_0x3afbdd(0xd8)](){const _0x23be17=_0x3afbdd;return this[_0x23be17(0x12f)][_0x23be17(0xe4)][_0x23be17(0xf8)](_0x23be17(0x139))[_0x23be17(0xd8)];}[_0x3afbdd(0x143)](_0x2e6df8){const _0x368bb7=_0x3afbdd;return this[_0x368bb7(0x12f)][_0x368bb7(0xe4)][_0x368bb7(0xf8)](_0x368bb7(0x139))[_0x368bb7(0x143)](_0x2e6df8);}[_0x3afbdd(0xfa)](_0x2ecedd){const _0x738b06=_0x3afbdd;return this[_0x738b06(0x12f)][_0x738b06(0xe4)][_0x738b06(0xf8)](_0x738b06(0x10e))[_0x738b06(0xfa)](_0x2ecedd);}[_0x3afbdd(0xcc)](_0x336aee){const _0x5e0142=_0x3afbdd;return this[_0x5e0142(0x12f)][_0x5e0142(0xe4)][_0x5e0142(0xf8)](_0x5e0142(0x10e))[_0x5e0142(0xcc)](_0x336aee||{'toJSON':!0x1});}[_0x3afbdd(0x10a)](){const _0x1cfd69=_0x3afbdd,_0x403925=this[_0x1cfd69(0x12f)],_0x19584b=_0x45d82a(_0x403925,p),_0x43c45d=_0x403925[_0x1cfd69(0xe4)][_0x1cfd69(0xf8)](_0x1cfd69(0x139)),_0x1072e0=_0x403925[_0x1cfd69(0xe4)][_0x1cfd69(0xf8)](_0x1cfd69(0xff))[_0x1cfd69(0xd5)];return _0x19584b[_0x1cfd69(0xc5)]=[_0x1cfd69(0x13a),_0x1cfd69(0xcf),_0x1cfd69(0x103)],delete _0x19584b[_0x1cfd69(0x148)],(_0x19584b[_0x1cfd69(0xe4)][_0x1cfd69(0x112)](k,_0x3fce6b,_0x3f91d6,class extends _0x393583{static get[_0x1cfd69(0x121)](){const _0x5e7c19=_0x1cfd69;return[_0x3fce6b,_0x5e7c19(0xff)];}[_0x1cfd69(0x11b)](){const _0x15756=_0x1cfd69,_0x36b0b2=this[_0x15756(0x12f)][_0x15756(0xe4)][_0x15756(0xf8)](_0x15756(0xff));for(const _0x6451cf of _0x1072e0)_0x6451cf[_0x15756(0x136)]||_0x36b0b2[_0x15756(0x108)](_0x6451cf['id'])||_0x36b0b2[_0x15756(0x142)](_0x6451cf);const _0x243c54=_0x43c45d[_0x15756(0x105)][_0x15756(0xcc)]();let _0x14d08a=null;const _0x315abc=this[_0x15756(0x12f)][_0x15756(0xe4)][_0x15756(0xf8)](_0x15756(0xfb));_0x315abc[_0x15756(0xd8)]=_0x43c45d[_0x15756(0xd8)],_0x315abc[_0x15756(0xe3)](_0x15756(0x116))['to'](_0x43c45d),this[_0x15756(0x12f)][_0x15756(0xf5)][_0x15756(0xf8)](_0x15756(0xcf))[_0x15756(0xe3)](_0x15756(0x116))['to'](_0x403925,_0x15756(0x134),_0x4db18b=>!_0x4db18b);for(const _0x4c48e8 of _0x243c54){const _0x528f65=null===_0x4c48e8[_0x15756(0x115)];if(_0x528f65&&_0x4c48e8[_0x15756(0xeb)]===_0x4c48e8[_0x15756(0x140)])continue;const _0x463a26=_0x4c48e8[_0x15756(0x101)]();_0x315abc[_0x15756(0x143)](_0x463a26,(_0x5f2d2f,_0x1e5fa7,_0x500212)=>{const _0xd42c1e=_0x15756;if(_0x528f65){if(_0x14d08a)_0x14d08a[_0xd42c1e(0xd4)](_0x5f2d2f,_0x1e5fa7);else{if(!_0x1e5fa7){const _0x2054c9=_0x500212[_0xd42c1e(0x101)]();_0x2054c9['id']=_0x415ecb(),_0x43c45d[_0xd42c1e(0x100)](_0x2054c9,_0x500212[_0xd42c1e(0xeb)])[_0xd42c1e(0xda)](_0x462b18=>{_0x14d08a=_0x462b18;});}}}else _0x4c48e8[_0xd42c1e(0xd4)](_0x5f2d2f,_0x1e5fa7);});}}},_0x1500af),_0x19584b);}[_0x3afbdd(0xc8)](){const _0x1d4df2=_0x3afbdd,_0x260648=this[_0x1d4df2(0x12f)][_0x1d4df2(0xd1)][_0x1d4df2(0xf8)](_0x1d4df2(0xf0))[_0x1d4df2(0xea)];this[_0x1d4df2(0x12f)][_0x1d4df2(0xd1)][_0x1d4df2(0x104)](_0x1d4df2(0xe6),async()=>{const _0x1d0b9a=_0x1d4df2;this[_0x1d0b9a(0x12f)][_0x1d0b9a(0x109)](_0x1d0b9a(0x118));const _0x1a584e=this[_0x1d0b9a(0x12f)][_0x1d0b9a(0xe4)][_0x1d0b9a(0xf8)](_0x1d0b9a(0x139));if(this[_0x1d0b9a(0x12f)][_0x1d0b9a(0xe4)][_0x1d0b9a(0x10f)](_0x1d0b9a(0x130))){const _0x5c69ad=this[_0x1d0b9a(0x12f)][_0x1d0b9a(0xe4)][_0x1d0b9a(0xf8)](_0x1d0b9a(0x130));await _0x5c69ad[_0x1d0b9a(0x132)]();}else await _0x1a584e[_0x1d0b9a(0x126)]();if(this[_0x1d0b9a(0x12f)][_0x1d0b9a(0xe4)][_0x1d0b9a(0x10f)](_0x1d0b9a(0x120))&&this[_0x1d0b9a(0x12f)][_0x1d0b9a(0xe4)][_0x1d0b9a(0xf8)](_0x1d0b9a(0x120))[_0x1d0b9a(0x11c)](),this[_0x1d0b9a(0x12f)][_0x1d0b9a(0xe4)][_0x1d0b9a(0x10f)](_0x1d0b9a(0x12d))){const _0x232cc2=this[_0x1d0b9a(0x12f)][_0x1d0b9a(0xe4)][_0x1d0b9a(0xf8)](_0x1d0b9a(0x12d));_0x232cc2[_0x1d0b9a(0x110)]&&_0x232cc2[_0x1d0b9a(0xc6)]();}const _0x536330=this[_0x1d0b9a(0x10a)]();return _0x260648(_0x536330)[_0x1d0b9a(0xda)](_0x197b4a=>{const _0x7aef91=_0x1d0b9a;return(this[_0x7aef91(0x12a)]=_0x197b4a,this[_0x7aef91(0x12f)][_0x7aef91(0xe4)][_0x7aef91(0x10f)](_0x7aef91(0xef)))&&this[_0x7aef91(0x12f)][_0x7aef91(0xe4)][_0x7aef91(0xf8)](_0x7aef91(0xef))[_0x7aef91(0x129)](),_0x197b4a;})[_0x1d0b9a(0x138)](_0x40c7c5=>(console[_0x1d0b9a(0xdf)](_0x40c7c5),this[_0x1d0b9a(0x12f)][_0x1d0b9a(0x119)](_0x1d0b9a(0x118)),null));});}[_0x3afbdd(0x13e)](){const _0x2072e9=_0x3afbdd,_0x33a443=this[_0x2072e9(0x12f)][_0x2072e9(0xd1)][_0x2072e9(0xf8)](_0x2072e9(0xf0))[_0x2072e9(0x14b)];this[_0x2072e9(0x12f)][_0x2072e9(0xd1)][_0x2072e9(0x104)](_0x2072e9(0x114),()=>(this[_0x2072e9(0x12f)][_0x2072e9(0xe4)][_0x2072e9(0x10f)](_0x2072e9(0x120))&&this[_0x2072e9(0x12f)][_0x2072e9(0xe4)][_0x2072e9(0xf8)](_0x2072e9(0x120))[_0x2072e9(0x11c)](),this[_0x2072e9(0x12a)][_0x2072e9(0xe4)][_0x2072e9(0xf8)](_0x2072e9(0xfb))[_0x2072e9(0x123)](),_0x33a443(this[_0x2072e9(0x12a)])[_0x2072e9(0xda)](()=>{const _0x565182=_0x2072e9;if(this[_0x565182(0x12f)][_0x565182(0x119)](_0x565182(0x118)),this[_0x565182(0x12a)]=null,this[_0x565182(0x12f)][_0x565182(0xe4)][_0x565182(0x10f)](_0x565182(0xef))){const _0x3fe6ec=this[_0x565182(0x12f)][_0x565182(0xe4)][_0x565182(0xf8)](_0x565182(0xef));_0x3fe6ec[_0x565182(0x129)](),_0x3fe6ec[_0x565182(0x144)]();}})));}[_0x3afbdd(0xf6)](_0x33f156){const _0x2c605c=_0x3afbdd,_0x16f5bd=this[_0x2c605c(0x12f)][_0x2c605c(0xd1)][_0x2c605c(0xf8)](_0x2c605c(0xc2)),_0x110e7d=this[_0x2c605c(0x12f)][_0x2c605c(0xd1)][_0x2c605c(0xf8)](_0x2c605c(0xfd)),_0x46c175=this[_0x2c605c(0x12f)][_0x2c605c(0xd1)][_0x2c605c(0xf8)](_0x2c605c(0x147));return _0x2e5281[_0x2c605c(0xc4)](_0x46c175,_0x33f156)[_0x2c605c(0xda)](_0x2a9e67=>(_0x110e7d[_0x2c605c(0xe0)][_0x2c605c(0xd2)]=_0x2c605c(0x11e),_0x16f5bd[_0x2c605c(0xe0)][_0x2c605c(0xd2)]=_0x2c605c(0xec),_0x2a9e67));}[_0x3afbdd(0x128)](_0x44e35f){const _0x499c47=_0x3afbdd,_0x278ccc=this[_0x499c47(0x12f)][_0x499c47(0xd1)][_0x499c47(0xf8)](_0x499c47(0xc2));return this[_0x499c47(0x12f)][_0x499c47(0xd1)][_0x499c47(0xf8)](_0x499c47(0xfd))[_0x499c47(0xe0)][_0x499c47(0xd2)]=_0x499c47(0xec),_0x278ccc[_0x499c47(0xe0)][_0x499c47(0xd2)]='',_0x44e35f[_0x499c47(0x127)]();}async[_0x3afbdd(0x12e)](_0x4abfd1){const _0x1f7705=_0x3afbdd,_0x2e9651=this[_0x1f7705(0x12f)],_0x2808b9=this[_0x1f7705(0x12a)][_0x1f7705(0xe4)][_0x1f7705(0xf8)](_0x1f7705(0xfb)),_0x3ac71d=_0x2e9651[_0x1f7705(0xe4)][_0x1f7705(0xf8)](_0x1f7705(0x139)),_0x5521cc=_0x2808b9[_0x1f7705(0x105)][_0x1f7705(0xfa)](_0x4abfd1);let _0x3f4d3e,_0x45f3e1,_0x4dea18;try{_0x3f4d3e=await _0x2808b9[_0x1f7705(0xc7)](_0x5521cc),_0x45f3e1=await _0x2808b9[_0x1f7705(0xc1)](_0x5521cc);}catch(_0x543c1a){return void console[_0x1f7705(0xdf)](_0x543c1a);}_0x2e9651[_0x1f7705(0xc9)][_0x1f7705(0xde)](_0x487d80=>{const _0x4005d3=_0x1f7705;for(const _0x38712b of Array[_0x4005d3(0x146)](_0x2e9651[_0x4005d3(0xc9)][_0x4005d3(0xdd)][_0x4005d3(0xdc)](_0x4005d3(0xf4))))_0x487d80[_0x4005d3(0xd6)](_0x38712b);}),_0x2808b9[_0x1f7705(0x107)]=!0x1,_0x2e9651[_0x1f7705(0xc9)][_0x1f7705(0x11a)](_0x11261b=>{const _0x1d7602=_0x1f7705;_0x11261b[_0x1d7602(0xf9)](null),_0x11261b[_0x1d7602(0x124)](_0x2e9651[_0x1d7602(0xc9)][_0x1d7602(0x117)][_0x1d7602(0x14c)][_0x1d7602(0xf2)]());const _0x431810=Object[_0x1d7602(0x131)](_0x3f4d3e);for(const _0x17e5ae of _0x2e9651[_0x1d7602(0xc9)][_0x1d7602(0x117)][_0x1d7602(0xe8)])_0x1d7602(0xc3)!=_0x17e5ae[_0x1d7602(0x135)]&&_0x17e5ae[_0x1d7602(0x137)]()&&!_0x431810[_0x1d7602(0x12c)](_0x17e5ae[_0x1d7602(0x135)])&&_0x11261b[_0x1d7602(0xee)](_0x17e5ae);for(const _0x3992fd of _0x431810){let _0x540bb2=_0x2e9651[_0x1d7602(0xc9)][_0x1d7602(0x117)][_0x1d7602(0x13d)](_0x3992fd);_0x540bb2&&_0x540bb2[_0x1d7602(0x137)]()||(_0x540bb2=_0x11261b[_0x1d7602(0x111)](_0x3992fd));const _0x50d584=_0x45f3e1[_0x3992fd],_0x285867=Object[_0x1d7602(0x131)](_0x50d584),_0x13768e=_0x3f4d3e[_0x3992fd];for(const _0x3745ae of _0x540bb2[_0x1d7602(0xf2)]())_0x285867[_0x1d7602(0x12c)](_0x3745ae)||_0x11261b[_0x1d7602(0xe7)](_0x3745ae,_0x540bb2);for(const _0x4c05fc of _0x285867)_0x11261b[_0x1d7602(0xfc)](_0x4c05fc,_0x45f3e1[_0x3992fd][_0x4c05fc],_0x540bb2);_0x11261b[_0x1d7602(0x141)](_0x11261b[_0x1d7602(0x149)](_0x540bb2)),_0x11261b[_0x1d7602(0xce)](_0x2e9651[_0x1d7602(0x13f)][_0x1d7602(0x11f)](_0x13768e,_0x540bb2),_0x540bb2,0x0);}});const _0x12c4d6=_0x23fa37(_0x2e9651[_0x1f7705(0x13c)],_0x1f7705(0xf1));if(_0x5521cc[_0x1f7705(0x10c)])_0x4dea18=-0x1==_0x5521cc[_0x1f7705(0x10c)][_0x1f7705(0xdb)](_0x12c4d6)?_0x12c4d6+':\x20'+_0x5521cc[_0x1f7705(0x10c)]:_0x5521cc[_0x1f7705(0x10c)];else _0x4dea18=_0x12c4d6+':\x20'+(_0x5521cc[_0x1f7705(0x145)][_0x1f7705(0xe2)](_0x2e9651[_0x1f7705(0x13c)][_0x1f7705(0xbf)],{'month':_0x1f7705(0x122),'day':_0x1f7705(0xd9)})+',\x20'+_0x5521cc[_0x1f7705(0x145)][_0x1f7705(0xf7)](_0x2e9651[_0x1f7705(0x13c)][_0x1f7705(0xbf)],{'hour':_0x1f7705(0xd9),'minute':_0x1f7705(0xd9)}));return await _0x3ac71d[_0x1f7705(0x100)]({'name':_0x4dea18}),_0x2808b9[_0x1f7705(0x107)]=!0x0,_0x2e9651[_0x1f7705(0xd1)][_0x1f7705(0xf8)](_0x1f7705(0xf0))[_0x1f7705(0x14b)]();}}
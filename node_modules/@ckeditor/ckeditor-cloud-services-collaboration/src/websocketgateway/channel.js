/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{EmitterMixin}from'ckeditor5/src/utils.js';import _0x4557a2 from'./../websocketgateway/messages/channelmessage.js';import _0x380ac5 from'./../messagescompressor.js';export default class extends/* #__PURE__ -- @preserve */
EmitterMixin(){constructor(_0x45b8e4,_0x5cfd36,_0x2a0490){super(),this['_channelName']=_0x45b8e4,this['_wsGateway']=_0x5cfd36,this['_socket']=_0x2a0490,this['_subscribeToChannel']();}['remove'](){this['_socket']['off'](this['_channelName']);}['getEventName'](_0x49286a,_0xa2fc1f=!0x1){let _0x3e7b74='';return _0xa2fc1f&&(_0x3e7b74+='all:'),_0x3e7b74+='event',_0x49286a&&(_0x3e7b74+=':'+_0x49286a),_0x3e7b74;}['_subscribeToChannel'](){this['_socket']['on'](this['_channelName'],_0x3ec07e=>{const _0x31aebf=_0x380ac5['decode'](_0x3ec07e,_0x4557a2);this['fire'](this['getEventName'](_0x31aebf['type'],!0x0),_0x31aebf['data'],_0x31aebf['socketId']),_0x31aebf['socketId']!==this['_wsGateway']['socketId']&&this['fire'](this['getEventName'](_0x31aebf['type']),_0x31aebf['data'],_0x31aebf['socketId']);});}}
/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4f1c03=_0x131c;function _0x587a(){const _0x3154c0=['body','toString','744Sgbnik','8GtQCZc','_getGeneratedText','Your\x20task\x20is\x20to\x20execute\x20the\x20instruction\x20using\x20the\x20provided\x20HTML\x20content.\x20Follow\x20the\x20instruction\x20closely.\x20Your\x20answer\x20must\x20be\x20a\x20properly\x20formatted\x20HTML\x20code.\x20Do\x20not\x20add\x20any\x20additional\x20remarks\x20or\x20notes.\x20Do\x20not\x20act\x20like\x20a\x20chatbot\x20or\x20a\x20real\x20person.','config','Your\x20task\x20is\x20to\x20generate\x20HTML\x20content\x20accordingly\x20to\x20the\x20given\x20instruction.\x20Never\x20include\x20<img>\x20tag\x20in\x20your\x20response\x20even\x20if\x20asked\x20for.\x20Your\x20answer\x20must\x20be\x20a\x20well-structured\x20and\x20properly\x20formatted\x20HTML\x20code.\x20Answer\x20only\x20with\x20the\x20generated\x20HTML\x20content.\x20Do\x20not\x20add\x20any\x20additional\x20remarks\x20or\x20notes.\x20Do\x20not\x20act\x20like\x20a\x20chatbot\x20or\x20a\x20real\x20person.','utf-8','_prepareRequestParameters','meta.llama','text','ai.aws.requestHeaders','_prepareRequestHeaders','join','signal','_readAsyncIterableResponse','length','resolve','split','Instruction:\x0a','getReader','_processAWSRequest','filter','7661537szAwzR','generation','AI_ERROR_UNSUPPORTED_MODEL','completion','abortController','bytes','80873zImfmK','207530DKXMlM','locale','12tHcMAC','_bedrockClientConfig','1059085ehBSpb','editor','_requestParameters','_readStaticResponse','\x0aYou\x20must\x20keep\x20the\x20text\x20formatting.\x0a\x0aContent:\x0a','Human:\x0a','application/json','map','<<SYS>>\x0a','bedrock-2023-05-31','anthropic.claude','ai.aws.bedrockClientConfig','define','sendRequest','\x0a<</SYS>>\x0a[INST]\x0a','parse','_apiUrl','cohere.command','ai.aws.requestParameters','getModelFamily','ai.aws.apiUrl','preparePrompt','chunk','pluginName','utf8','get','1112SshpVw','32166IIBzIb','send','POST','decode','ai21.j2','154kISpCB','\x0a[/INST]','stringify','test','26810xjwgxA','json','6XtbbBa','AWSTextAdapter','read','anthropic.claude-v2','completions','data','135165NrsMiW','_processProxyRequest','from','generations','_readStreamableResponse','\x0a\x0aAssistant:','_requestHeaders'];_0x587a=function(){return _0x3154c0;};return _0x587a();}(function(_0x12c51e,_0x2e34c5){const _0x188277=_0x131c,_0x116107=_0x12c51e();while(!![]){try{const _0x11a8aa=-parseInt(_0x188277(0x7f))/0x1+-parseInt(_0x188277(0xaa))/0x2*(parseInt(_0x188277(0xb0))/0x3)+-parseInt(_0x188277(0xba))/0x4*(parseInt(_0x188277(0x84))/0x5)+parseInt(_0x188277(0xb9))/0x6*(-parseInt(_0x188277(0xa8))/0x7)+parseInt(_0x188277(0x9e))/0x8*(parseInt(_0x188277(0x9f))/0x9)+parseInt(_0x188277(0x80))/0xa*(parseInt(_0x188277(0xa4))/0xb)+parseInt(_0x188277(0x82))/0xc*(parseInt(_0x188277(0x79))/0xd);if(_0x11a8aa===_0x2e34c5)break;else _0x116107['push'](_0x116107['shift']());}catch(_0x553c20){_0x116107['push'](_0x116107['shift']());}}}(_0x587a,0x3ffc5));import{default as _0x4bd33a}from'./aitextadapter.js';import{AIRequestError as _0x20b5bf}from'./aiadapter.js';function _0x131c(_0x3b0473,_0x376978){const _0x587ac5=_0x587a();return _0x131c=function(_0x131c2a,_0x1a743f){_0x131c2a=_0x131c2a-0x6c;let _0x4b1e70=_0x587ac5[_0x131c2a];return _0x4b1e70;},_0x131c(_0x3b0473,_0x376978);}import{BedrockRuntimeClient as _0x1265d8,InvokeModelCommand as _0x133013,InvokeModelWithResponseStreamCommand as _0xab6812}from'@aws-sdk/client-bedrock-runtime';import{getTranslation as _0x25d949}from'../utils/common-translations.js';export default class J extends _0x4bd33a{static get[_0x4f1c03(0x9b)](){const _0x2be06d=_0x4f1c03;return _0x2be06d(0xab);}constructor(_0x38ce7e){const _0x3fd0d8=_0x4f1c03;super(_0x38ce7e),_0x38ce7e[_0x3fd0d8(0xbd)][_0x3fd0d8(0x9d)](_0x3fd0d8(0x96))||_0x38ce7e[_0x3fd0d8(0xbd)][_0x3fd0d8(0x90)](_0x3fd0d8(0x96),{'model':_0x3fd0d8(0xad),'max_tokens_to_sample':0x7d0,'temperature':0x1,'top_p':0x1,'top_k':0xfa,'anthropic_version':_0x3fd0d8(0x8d),'stream':!0x0}),this[_0x3fd0d8(0x94)]=_0x38ce7e[_0x3fd0d8(0xbd)][_0x3fd0d8(0x9d)](_0x3fd0d8(0x98)),this[_0x3fd0d8(0x83)]=_0x38ce7e[_0x3fd0d8(0xbd)][_0x3fd0d8(0x9d)](_0x3fd0d8(0x8f)),this[_0x3fd0d8(0xb6)]=_0x38ce7e[_0x3fd0d8(0xbd)][_0x3fd0d8(0x9d)](_0x3fd0d8(0x6d)),this[_0x3fd0d8(0x86)]=_0x38ce7e[_0x3fd0d8(0xbd)][_0x3fd0d8(0x9d)](_0x3fd0d8(0x96));}async[_0x4f1c03(0x91)]({query:_0x5612a9,context:_0x90cba6,onData:_0x372636,actionId:_0x38ffaf}){const _0x149e73=_0x4f1c03,{model:_0x560602,stream:_0x454bbe,..._0x376042}=await this[_0x149e73(0xc0)](this[_0x149e73(0x86)],_0x38ffaf),_0x2e42a1={'prompt':await this[_0x149e73(0x99)](_0x5612a9,_0x90cba6,_0x560602,_0x38ffaf),..._0x376042};this[_0x149e73(0x94)]?await this[_0x149e73(0xb1)](_0x2e42a1,_0x560602,_0x454bbe,_0x372636,_0x38ffaf):await this[_0x149e73(0x77)](_0x2e42a1,_0x560602,_0x454bbe,_0x372636);}async[_0x4f1c03(0x99)](_0x55b18e,_0x560ed8,_0x1c322e,_0x4716c1){const _0x548d97=_0x4f1c03;let _0x2da17a,_0x5e7767;return _0x560ed8?(_0x2da17a=_0x548d97(0xbc),_0x5e7767=_0x548d97(0x75)+_0x55b18e+_0x548d97(0x88)+_0x560ed8):(_0x2da17a=_0x548d97(0xbe),_0x5e7767=_0x55b18e),_0x548d97(0xc1)==this[_0x548d97(0x97)](_0x1c322e)?_0x548d97(0x8c)+_0x2da17a+_0x548d97(0x92)+_0x5e7767+_0x548d97(0xa5):_0x548d97(0x89)+_0x2da17a+'\x0a'+_0x5e7767+_0x548d97(0xb5);}[_0x4f1c03(0x97)](_0x1ef951){const _0x122802=_0x4f1c03;if(/^anthropic\.claude/[_0x122802(0xa7)](_0x1ef951))return _0x122802(0x8e);if(/^ai21\.j2/[_0x122802(0xa7)](_0x1ef951))return _0x122802(0xa3);if(/^cohere\.command/[_0x122802(0xa7)](_0x1ef951))return _0x122802(0x95);if(/^meta\.llama/[_0x122802(0xa7)](_0x1ef951))return _0x122802(0xc1);throw new _0x20b5bf(_0x25d949(this[_0x122802(0x85)][_0x122802(0x81)],_0x122802(0x7b),_0x1ef951));}async[_0x4f1c03(0xb1)](_0x564133,_0x305aae,_0xb747ac,_0x5298c8,_0x403bbb){const _0x286f05=_0x4f1c03,_0x59595e={'method':_0x286f05(0xa1),'headers':await this[_0x286f05(0x6e)](this[_0x286f05(0xb6)],_0x403bbb),'body':JSON[_0x286f05(0xa6)]({..._0x564133,'model':_0x305aae,'stream':_0xb747ac}),'signal':this[_0x286f05(0x7d)][_0x286f05(0x70)]},_0x325167=await fetch(this[_0x286f05(0x94)],_0x59595e);_0xb747ac?await this[_0x286f05(0xb4)](_0x325167,_0x305aae,_0x5298c8):await this[_0x286f05(0x87)](_0x325167,_0x305aae,_0x5298c8);}async[_0x4f1c03(0x77)](_0x5ce04b,_0x3047db,_0x1a2875,_0x1acd3b){const _0x57c373=_0x4f1c03,_0x319cc5=new _0x1265d8(this[_0x57c373(0x83)]),_0x3ae0da={'body':JSON[_0x57c373(0xa6)](_0x5ce04b),'contentType':_0x57c373(0x8a),'accept':_0x57c373(0x8a),'modelId':_0x3047db};let _0x5732c6;if(_0x1a2875){const _0x16c4b8=new _0xab6812(_0x3ae0da);_0x5732c6=await _0x319cc5[_0x57c373(0xa0)](_0x16c4b8,{'abortSignal':this[_0x57c373(0x7d)][_0x57c373(0x70)]}),await this[_0x57c373(0x71)](_0x5732c6,_0x3047db,_0x1acd3b);}else{const _0x47ed15=new _0x133013(_0x3ae0da);_0x5732c6=await _0x319cc5[_0x57c373(0xa0)](_0x47ed15,{'abortSignal':this[_0x57c373(0x7d)][_0x57c373(0x70)]}),await this[_0x57c373(0x87)](_0x5732c6,_0x3047db,_0x1acd3b);}}async[_0x4f1c03(0x71)](_0x3e9773,_0x9b47a2,_0x22d059){const _0x1a3b3e=_0x4f1c03,_0x508927=_0x3e9773[_0x1a3b3e(0xb7)],_0x501d5f=new TextDecoder(_0x1a3b3e(0xbf));let _0x24a77f='';for await(const _0x2c5263 of _0x508927)if(_0x2c5263[_0x1a3b3e(0x9a)]){const _0x29a474=_0x501d5f[_0x1a3b3e(0xa2)](_0x2c5263[_0x1a3b3e(0x9a)][_0x1a3b3e(0x7e)]),_0x5a267d=JSON[_0x1a3b3e(0x93)](_0x29a474);_0x24a77f+=this[_0x1a3b3e(0xbb)](_0x5a267d,_0x9b47a2),_0x22d059(_0x24a77f);}return Promise[_0x1a3b3e(0x73)]();}async[_0x4f1c03(0xb4)](_0x26eab0,_0x247c5d,_0x2fbe05){const _0x36261a=_0x4f1c03,_0x496348=_0x26eab0[_0x36261a(0xb7)],_0x4391cc=new TextDecoder(_0x36261a(0xbf)),_0x1ed18a=_0x496348[_0x36261a(0x76)]();let _0x4a2f55='',_0x467d60='',_0x35bacc=!0x1;for(;!_0x35bacc;){const {done:_0xafa999,value:_0x258aac}=await _0x1ed18a[_0x36261a(0xac)]();if(_0x35bacc=_0xafa999,_0x35bacc)break;const _0x52663a=(_0x4a2f55+_0x4391cc[_0x36261a(0xa2)](_0x258aac))[_0x36261a(0x74)]('\x0a')[_0x36261a(0x8b)](_0x39cc4a=>{const _0x38df74=_0x36261a;try{return _0x4a2f55='',JSON[_0x38df74(0x93)](_0x39cc4a);}catch(_0x1ae037){return _0x4a2f55=_0x39cc4a,null;}})[_0x36261a(0x78)](_0xae8c0f=>null!==_0xae8c0f);_0x52663a[_0x36261a(0x72)]&&(_0x467d60+=_0x52663a[_0x36261a(0x8b)](_0x5a39d2=>this[_0x36261a(0xbb)](_0x5a39d2,_0x247c5d))[_0x36261a(0x6f)](''),_0x2fbe05(_0x467d60));}return Promise[_0x36261a(0x73)]();}async[_0x4f1c03(0x87)](_0x67fce0,_0x4b2eaf,_0x43ab6d){const _0x494fe7=_0x4f1c03;let _0x5bbdb3;return _0x5bbdb3=_0x67fce0 instanceof Response?await _0x67fce0[_0x494fe7(0xa9)]():JSON[_0x494fe7(0x93)](Buffer[_0x494fe7(0xb2)](_0x67fce0[_0x494fe7(0xb7)])[_0x494fe7(0xb8)](_0x494fe7(0x9c))),(_0x43ab6d(this[_0x494fe7(0xbb)](_0x5bbdb3,_0x4b2eaf)),Promise[_0x494fe7(0x73)]());}[_0x4f1c03(0xbb)](_0x1c1d05,_0x3ea49d){const _0x32f842=_0x4f1c03;switch(this[_0x32f842(0x97)](_0x3ea49d)){case _0x32f842(0x8e):return _0x1c1d05[_0x32f842(0x7c)];case _0x32f842(0xa3):return _0x1c1d05[_0x32f842(0xae)][0x0][_0x32f842(0xaf)][_0x32f842(0x6c)];case _0x32f842(0x95):return _0x1c1d05[_0x32f842(0xb3)][0x0][_0x32f842(0x6c)];case _0x32f842(0xc1):return _0x1c1d05[_0x32f842(0x7a)];}}}
/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x31c9c5=_0x4598;(function(_0x5ab25c,_0x5bf76b){const _0x31d03e=_0x4598,_0x38d675=_0x5ab25c();while(!![]){try{const _0x5b21f4=-parseInt(_0x31d03e(0x1f4))/0x1*(parseInt(_0x31d03e(0x1e8))/0x2)+parseInt(_0x31d03e(0x203))/0x3+-parseInt(_0x31d03e(0x202))/0x4+parseInt(_0x31d03e(0x1f0))/0x5+-parseInt(_0x31d03e(0x208))/0x6+-parseInt(_0x31d03e(0x1f1))/0x7*(parseInt(_0x31d03e(0x1ff))/0x8)+parseInt(_0x31d03e(0x1ef))/0x9;if(_0x5b21f4===_0x5bf76b)break;else _0x38d675['push'](_0x38d675['shift']());}catch(_0x5cb599){_0x38d675['push'](_0x38d675['shift']());}}}(_0x1c94,0x31a40));function _0x4598(_0x477e11,_0x14ce11){const _0x1c94d5=_0x1c94();return _0x4598=function(_0x459859,_0x9652d1){_0x459859=_0x459859-0x1e7;let _0x3d9bb3=_0x1c94d5[_0x459859];return _0x3d9bb3;},_0x4598(_0x477e11,_0x14ce11);}import{Plugin as _0xd410ab}from'ckeditor5/src/core.js';import{CKEditorError as _0x4aa860}from'ckeditor5/src/utils.js';import{default as _0x6b007d,AIRequestError as _0x8b2b27}from'./aiadapter.js';function _0x1c94(){const _0x330ba3=['object','_prepareRequestHeaders','requires','error','catch','6255279tPJnTa','690490VkisoF','119819fVJWAK','assign','application/json','333757AtXhWj','aitextadapter-send-request-failed','sendRequest','makeRequest','get','abort','AbortError','_prepareRequestParameters','aborted','AI_ERROR_GET_HEADERS','textAdapter','104SgUmXH','init','abortController','1030716gvyplz','847017tjQAZr','signal','resolve','AI_ERROR_GET_PARAMETERS','reject','589098Gkzcxt','locale','name','editor','2VqSbYj','plugins'];_0x1c94=function(){return _0x330ba3;};return _0x1c94();}import{getTranslation as _0x4e9dd1}from'../utils/common-translations.js';export default class P extends _0xd410ab{static get[_0x31c9c5(0x1ec)](){return[_0x6b007d];}constructor(_0x259131){const _0x3d7167=_0x31c9c5;super(_0x259131),this[_0x3d7167(0x201)]=new AbortController();}[_0x31c9c5(0x200)](){const _0x4bc026=_0x31c9c5;this[_0x4bc026(0x1e7)][_0x4bc026(0x1e9)][_0x4bc026(0x1f8)](_0x6b007d)[_0x4bc026(0x1fe)]=this;}[_0x31c9c5(0x1f9)](){const _0x3e4e2a=_0x31c9c5;this[_0x3e4e2a(0x201)][_0x3e4e2a(0x204)][_0x3e4e2a(0x1fc)]||(this[_0x3e4e2a(0x201)][_0x3e4e2a(0x1f9)](),this[_0x3e4e2a(0x201)]=new AbortController());}async[_0x31c9c5(0x1f7)](_0x104b52){const _0x440c66=_0x31c9c5;return this[_0x440c66(0x1f6)](_0x104b52)[_0x440c66(0x1ee)](_0x30a188=>{const _0x3d00bf=_0x440c66;if(_0x30a188 instanceof _0x8b2b27)return Promise[_0x3d00bf(0x207)](_0x30a188);if(_0x3d00bf(0x1fa)==_0x30a188[_0x3d00bf(0x20a)])return Promise[_0x3d00bf(0x205)]();throw console[_0x3d00bf(0x1ed)](_0x30a188),new _0x4aa860(_0x3d00bf(0x1f5),null);});}async[_0x31c9c5(0x1eb)](_0x5c380a,_0x239b4a){const _0x4799e0=_0x31c9c5,_0x3cba2c=this[_0x4799e0(0x1e7)][_0x4799e0(0x209)],_0x1ee398={'Content-Type':_0x4799e0(0x1f3)};if(_0x4799e0(0x1ea)==typeof _0x5c380a)Object[_0x4799e0(0x1f2)](_0x1ee398,_0x5c380a);else{if(_0x5c380a)try{const _0x1b579d=await _0x5c380a(_0x239b4a);Object[_0x4799e0(0x1f2)](_0x1ee398,_0x1b579d);}catch(_0x1e0e7e){return Promise[_0x4799e0(0x207)](new _0x8b2b27(_0x4e9dd1(_0x3cba2c,_0x4799e0(0x1fd))));}}return _0x1ee398;}async[_0x31c9c5(0x1fb)](_0x41b5d2,_0x1fb1c6){const _0x3b4f04=_0x31c9c5,_0x1315d6=this[_0x3b4f04(0x1e7)][_0x3b4f04(0x209)];if(_0x3b4f04(0x1ea)==typeof _0x41b5d2)return _0x41b5d2;try{return await _0x41b5d2(_0x1fb1c6);}catch(_0x17c375){return Promise[_0x3b4f04(0x207)](new _0x8b2b27(_0x4e9dd1(_0x1315d6,_0x3b4f04(0x206))));}}}
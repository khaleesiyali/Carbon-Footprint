/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x3dd718}from'ckeditor5/src/core.js';import{CKEditorError as _0x40e072}from'ckeditor5/src/utils.js';import{ButtonView as _0xa952e0,SplitButtonView as _0xa73400,createDropdown as _0x1f3b60,MenuBarMenuListItemButtonView as _0x1c8dcc}from'ckeditor5/src/ui.js';import _0x1182ab from'./ui/multilevellistview.js';import _0x4f9555 from'../theme/icons/multi-level-list.svg';export default class l extends _0x3dd718{static get['pluginName'](){return'MultiLevelListUI';}constructor(_0x5cc96b){super(_0x5cc96b),this['_licenseKeyCheckInterval']=null;}['init'](){const _0x5b8723=this['editor'],t=_0x5b8723['locale']['t'];_0x5b8723['ui']['componentFactory']['add']('multiLevelList',function({editor:_0x5cdafd,parentCommandName:_0x5f5aae,buttonLabel:_0x39b1c8,buttonIcon:_0x3af147,styleGridAriaLabel:_0x1e2eab,styleDefinitions:_0x4cf6d3}){const _0x1d7b1f=_0x5cdafd['commands']['get'](_0x5f5aae),_0x1f9d35=_0x5cdafd['config']['get']('list.properties')||{},_0x37d6b0=_0x5cdafd['plugins']['has']('ListProperties'),_0x3a9470=_0x1f9d35['startIndex'];if(!_0x37d6b0||!_0x3a9470)return _0x2bff00=>{const _0x1214aa=new _0xa952e0(_0x2bff00);return _0x1214aa['set']({'label':_0x39b1c8,'icon':_0x3af147,'tooltip':!0x0,'isToggleable':!0x0}),_0x1214aa['bind']('isOn')['to'](_0x1d7b1f,'value',_0x1f817d=>!!_0x1f817d),_0x1214aa['on']('execute',()=>{_0x5cdafd['execute'](_0x5f5aae),_0x5cdafd['editing']['view']['focus']();}),_0x1214aa;};return _0x8c12cd=>{const _0x226ce9=_0x1f3b60(_0x8c12cd,_0xa73400),_0x2ffcd8=_0x226ce9['buttonView'];return _0x226ce9['bind']('isEnabled')['to'](_0x1d7b1f),_0x226ce9['class']='ck-list-styles-dropdown',_0x2ffcd8['on']('execute',()=>{_0x5cdafd['execute'](_0x5f5aae),_0x5cdafd['editing']['view']['focus']();}),_0x2ffcd8['set']({'label':_0x39b1c8,'icon':_0x3af147,'tooltip':!0x0,'isToggleable':!0x0}),_0x2ffcd8['bind']('isOn')['to'](_0x1d7b1f,'value',_0x473223=>!!_0x473223),_0x226ce9['once']('change:isOpen',()=>{const _0x123e38=function({editor:_0x440b61,dropdownView:_0x5c5d86,styleDefinitions:_0x4cf252,styleGridAriaLabel:_0x5177ed}){const _0x43af76=_0x440b61['locale'],_0x56c83f=_0x440b61['config']['get']('list.properties'),_0xc7ce08=null;_0x56c83f['reversed']=!0x1,_0x4cf252['length']||(_0x56c83f['styles']=!0x1);const _0x43514f=new _0x1182ab(_0x43af76,{'styleGridAriaLabel':_0x5177ed,'enabledProperties':_0x56c83f,'styleButtonViews':_0xc7ce08});if(_0x56c83f['startIndex']){const _0x8cb190=_0x440b61['commands']['get']('listStart');_0x43514f['startIndexFieldView']['bind']('isEnabled')['to'](_0x8cb190),_0x43514f['startIndexFieldView']['fieldView']['bind']('value')['to'](_0x8cb190),_0x43514f['on']('listStart',(_0x4441c4,_0x1a8221)=>_0x440b61['execute']('listStart',_0x1a8221));}return _0x43514f['delegate']('execute')['to'](_0x5c5d86),_0x43514f;}({'editor':_0x5cdafd,'dropdownView':_0x226ce9,'parentCommandName':_0x5f5aae,'styleGridAriaLabel':_0x1e2eab,'styleDefinitions':_0x4cf6d3});_0x226ce9['panelView']['children']['add'](_0x123e38);}),_0x226ce9['on']('execute',()=>{_0x5cdafd['editing']['view']['focus']();}),_0x226ce9;};}({'editor':_0x5b8723,'parentCommandName':'multiLevelList','buttonLabel':t('Multi-level\x20List'),'buttonIcon':_0x4f9555,'styleGridAriaLabel':t('Multi-level\x20list\x20styles\x20toolbar'),'styleDefinitions':[]})),_0x5b8723['ui']['componentFactory']['add']('menuBar:multiLevelList',()=>{const _0x11e9c2=_0x5b8723['commands']['get']('multiLevelList'),_0x54a2f8=new _0x1c8dcc(_0x5b8723['locale']);return _0x54a2f8['set']({'label':t('Multi-level\x20List'),'icon':_0x4f9555}),_0x54a2f8['bind']('isEnabled')['to'](_0x11e9c2),_0x54a2f8['bind']('isOn')['to'](_0x11e9c2,'value',_0x2ebda3=>!!_0x2ebda3),_0x54a2f8['on']('execute',()=>{_0x5b8723['execute']('multiLevelList'),_0x5b8723['editing']['view']['focus']();}),_0x54a2f8;}),this['licenseKey']=_0x5b8723['config']['get']('licenseKey');const _0x281444=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0xbb5198;for(const _0x36fbf6 in _0x281444){const _0x1d185d=_0x36fbf6,_0x3c3f64=_0x281444[_0x1d185d];if('multiLevelListLicenseKeyTrial'===_0x3c3f64||'multiLevelListLicenseKeyInvalid'===_0x3c3f64||'multiLevelListLicenseKeyValid'===_0x3c3f64||'multiLevelListLicenseKeyTrialLimit:operations'===_0x3c3f64){delete _0x281444[_0x1d185d],_0xbb5198=_0x3c3f64;break;}}if('multiLevelListLicenseKeyInvalid'===_0xbb5198)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x40e072('multi-level-list-invalid-license-key',null);if('multiLevelListLicenseKeyTrial'===_0xbb5198&&console['info']('You\x20are\x20using\x20the\x20trial\x20version\x20of\x20CKEditor\x205\x20multi\x20level\x20list\x20plugin\x20with\x20limited\x20usage.\x20Make\x20sure\x20you\x20will\x20not\x20use\x20it\x20in\x20the\x20production\x20environment.'),'multiLevelListLicenseKeyTrialLimit:operations'===_0xbb5198)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x40e072('multi-level-list-trial-license-key-reached-limit-changes',null);'multiLevelListLicenseKeyValid'===_0xbb5198&&clearInterval(this['_licenseKeyCheckInterval']);},0x3e8);}['destroy'](){this['_licenseKeyCheckInterval']&&clearInterval(this['_licenseKeyCheckInterval']);}}
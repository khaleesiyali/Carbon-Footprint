/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{icons as _0x2eee74,Plugin as _0x7f2bcc}from'ckeditor5/src/core.js';import{icons as _0x734f4c}from'ckeditor5-collaboration/src/collaboration-core.js';import{CKEditorError as _0x3ac3f3}from'ckeditor5/src/utils.js';import'./slashcommandeditorconfig.js';export default class o extends _0x7f2bcc{static get['pluginName'](){return'SlashCommandConfig';}constructor(_0x5f7f27){super(_0x5f7f27),this['_allowedCommands']=null;}['afterInit'](){const _0x957f07=this['editor']['config']['get']('slashCommand.removeCommands')||[],_0x5c3f5f=function(_0x5bf236){let _0x18995c=['heading4','heading5','heading6'];if(_0x5bf236){const _0x564ff3=_0x5bf236['map'](_0x20a830=>_0x20a830['model']);_0x18995c=['heading1','heading2','heading3','heading4','heading5','heading6']['filter'](_0x40db29=>!_0x564ff3['includes'](_0x40db29));}return _0x18995c;}(this['editor']['config']['get']('heading.options'));let _0x3cee5d=this['getDefaultCommands']()['filter'](_0x5e88dd=>!_0x5c3f5f['includes'](_0x5e88dd['id']))['filter'](_0x1d9e29=>!_0x957f07['includes'](_0x1d9e29['commandName']));const _0x20a171=this['editor']['config']['get']('slashCommand.extraCommands');_0x20a171&&_0x20a171['length']&&(_0x3cee5d=_0x3cee5d['concat'](_0x20a171));const _0x4e5821=this['editor']['config']['get']('template.definitions');_0x4e5821&&_0x4e5821['length']&&(_0x3cee5d=_0x3cee5d['concat'](function(_0x9579cc){return _0x9579cc['map'](_0x211aba=>{const {title:_0x3c06b8,icon:_0x6a9ae,description:_0x46a2c9,data:_0x36370a}=_0x211aba,_0x5ecd75={'id':c(_0x3c06b8,'template'),'commandName':'insertTemplate','execute':_0x5b841f=>{_0x5b841f['execute']('insertTemplate',_0x36370a);},'description':_0x46a2c9,'icon':_0x6a9ae,'title':_0x3c06b8};return _0x6a9ae&&(_0x5ecd75['isIconColorInherited']=!0x1),_0x5ecd75;});}(_0x4e5821)));const _0x98a6f6=this['editor']['config']['get']('style.definitions');_0x98a6f6&&_0x98a6f6['length']&&(_0x3cee5d=_0x3cee5d['concat'](function(_0x5a319f){return _0x5a319f['map'](_0x35ba20=>({'id':c(_0x35ba20['name'],'style'),'commandName':'style','execute':_0x824cc8=>{_0x824cc8['execute']('style',{'styleName':_0x35ba20['name']});},'isEnabled':_0x205dca=>{const _0x259798=_0x205dca['commands']['get']('style');return _0x259798['isEnabled']&&_0x259798['enabledStyles']['includes'](_0x35ba20['name']);},'title':_0x35ba20['name']}));}(_0x98a6f6)));const _0x3a3126=_0x3cee5d['filter'](_0xfb7a02=>!_0xfb7a02['commandName']||void 0x0!==this['editor']['commands']['get'](_0xfb7a02['commandName'])),_0x1fa5b5=[];for(const _0x24c5d0 of _0x3a3126)_0x1fa5b5['push']({'id':_0x24c5d0['id'],'commandName':_0x24c5d0['commandName'],'title':'function'==typeof _0x24c5d0['title']?_0x24c5d0['title'](this['editor']):_0x24c5d0['title'],'description':_0x24c5d0['description'],'icon':_0x24c5d0['icon'],'isIconColorInherited':_0x24c5d0['isIconColorInherited'],'aliases':_0x24c5d0['aliases'],'isEnabled':()=>this['_proxyIsEnabled'](_0x24c5d0),'execute':()=>this['_proxyExecute'](_0x24c5d0)});this['_allowedCommands']=_0x1fa5b5['sort'](d);}['getAllowedCommands'](){return this['_allowedCommands'];}['getDefaultCommands'](){const t=this['editor']['t'],_0x78de4=this['editor']['locale']['t'];return[{'id':'aiAssistant','commandName':'showAIAssistant','icon':_0x734f4c['robotPencil'],'title':_0x78de4('AI\x20Assistant'),'description':t('Open\x20the\x20AI\x20Assistant\x20to\x20generate\x20content'),'execute':_0x3ed6fa=>{setTimeout(()=>_0x3ed6fa['execute']('showAIAssistant'));}},{'id':'blockQuote','commandName':'blockQuote','icon':_0x2eee74['quote'],'title':_0x78de4('Block\x20quote'),'description':t('Create\x20a\x20block\x20quote')},{'id':'bulletedList','commandName':'bulletedList','icon':_0x2eee74['bulletedList'],'title':_0x78de4('Bulleted\x20list'),'description':t('Create\x20a\x20bulleted\x20list')},{'id':'codeBlock','commandName':'codeBlock','icon':_0x2eee74['codeBlock'],'title':_0x78de4('Insert\x20code\x20block'),'description':t('Create\x20a\x20code\x20block')},{'id':'ckbox','commandName':'ckbox','icon':_0x2eee74['browseFiles'],'title':_0x78de4('Open\x20file\x20manager'),'description':t('Open\x20file\x20manager\x20to\x20insert\x20an\x20image\x20or\x20a\x20file'),'aliases':['ckfinder','filemanager','upload']},{'id':'ckfinder','commandName':'ckfinder','icon':_0x2eee74['browseFiles'],'title':_0x78de4('Insert\x20image'),'description':t('Open\x20file\x20browser\x20to\x20insert\x20an\x20image\x20or\x20a\x20file'),'aliases':['ckbox','filemanager','upload']},{'id':'heading1','commandName':'heading','icon':_0x2eee74['heading1'],'title':_0x78de4('Heading\x201'),'description':t('Create\x20a\x20heading\x20level\x201'),'execute':_0x1c9b30=>{_0x1c9b30['execute']('heading',{'value':'heading1'});}},{'id':'heading2','commandName':'heading','icon':_0x2eee74['heading2'],'title':_0x78de4('Heading\x202'),'description':t('Create\x20a\x20heading\x20level\x202'),'execute':_0x14a97d=>{_0x14a97d['execute']('heading',{'value':'heading2'});}},{'id':'heading3','commandName':'heading','icon':_0x2eee74['heading3'],'title':_0x78de4('Heading\x203'),'description':t('Create\x20a\x20heading\x20level\x203'),'execute':_0x21b182=>{_0x21b182['execute']('heading',{'value':'heading3'});}},{'id':'heading4','commandName':'heading','icon':_0x2eee74['heading4'],'title':_0x78de4('Heading\x204'),'description':t('Create\x20a\x20heading\x20level\x204'),'execute':_0x15b2a2=>{_0x15b2a2['execute']('heading',{'value':'heading4'});}},{'id':'heading5','commandName':'heading','icon':_0x2eee74['heading5'],'title':_0x78de4('Heading\x205'),'description':t('Create\x20a\x20heading\x20level\x205'),'execute':_0x1fe11f=>{_0x1fe11f['execute']('heading',{'value':'heading5'});}},{'id':'heading6','commandName':'heading','icon':_0x2eee74['heading6'],'title':_0x78de4('Heading\x206'),'description':t('Create\x20a\x20heading\x20level\x206'),'execute':_0x4f1806=>{_0x4f1806['execute']('heading',{'value':'heading6'});}},{'id':'horizontalLine','commandName':'horizontalLine','icon':_0x2eee74['horizontalLine'],'title':_0x78de4('Horizontal\x20line'),'description':t('Insert\x20a\x20horizontal\x20line')},{'id':'htmlEmbed','commandName':'htmlEmbed','icon':_0x2eee74['html'],'title':_0x78de4('Insert\x20HTML'),'description':t('Insert\x20an\x20HTML\x20snippet')},{'id':'indent','commandName':'indent','icon':_0x2eee74['indent'],'title':_0x78de4('Increase\x20indent'),'description':t('Increase\x20the\x20indentation')},{'id':'insertMermaidCommand','commandName':'insertMermaidCommand','title':t('Insert\x20Mermaid\x20diagram'),'description':t('Insert\x20the\x20Mermaid\x20diagram')},{'id':'insertTable','commandName':'insertTable','icon':_0x2eee74['table'],'title':_0x78de4('Insert\x20table'),'description':t('Create\x20a\x20table')},{'id':'insertTableOfContents','commandName':'insertTableOfContents','icon':_0x734f4c['tableOfContents'],'title':_0x78de4('Table\x20of\x20contents'),'description':t('Insert\x20table\x20of\x20contents'),'aliases':['toc']},{'id':'numberedList','commandName':'numberedList','icon':_0x2eee74['numberedList'],'title':_0x78de4('Numbered\x20list'),'description':t('Create\x20a\x20numbered\x20list')},{'id':'outdent','commandName':'outdent','icon':_0x2eee74['outdent'],'title':_0x78de4('Decrease\x20indent'),'description':t('Decrease\x20the\x20indentation')},{'id':'paragraph','commandName':'paragraph','icon':_0x2eee74['paragraph'],'title':_0x78de4('Paragraph'),'description':t('Insert\x20a\x20paragraph')},{'id':'todoList','commandName':'todoList','icon':_0x2eee74['todoList'],'title':_0x78de4('To-do\x20list'),'description':t('Create\x20a\x20to-do\x20list')}];}['_proxyIsEnabled'](_0x5cd3ff){return _0x5cd3ff['isEnabled']?_0x5cd3ff['isEnabled'](this['editor']):!_0x5cd3ff['commandName']||this['editor']['commands']['get'](_0x5cd3ff['commandName'])['isEnabled'];}['_proxyExecute'](_0x47d07f){if(_0x47d07f['execute'])_0x47d07f['execute'](this['editor']);else{if(!_0x47d07f['commandName'])throw new _0x3ac3f3('slash-command-execute-missing',this['editor'],{'commandDefinition':_0x47d07f});this['editor']['execute'](_0x47d07f['commandName']);}}}function d(_0x5a63bc,_0x17db27){return _0x5a63bc['title']<_0x17db27['title']?-0x1:_0x5a63bc['title']>_0x17db27['title']?0x1:0x0;}function c(_0x1c8434,_0x4b93e6){return _0x4b93e6+'-'+_0x1c8434['toLowerCase']()['split']('\x20')['join']('-');}
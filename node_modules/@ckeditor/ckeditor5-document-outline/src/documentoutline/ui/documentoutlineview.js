/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{View as _0x7f3dfc}from'ckeditor5/src/ui.js';import{scrollAncestorsToShowTarget as _0x407b6a}from'ckeditor5/src/utils.js';import _0x3d70a5 from'./documentoutlineitemview.js';export default class h extends _0x7f3dfc{constructor(_0x50d576,_0x203e7b=!0x1,_0x302e50){super(_0x50d576);const t=_0x50d576['t'];this['showEmptyHeadingText']=_0x203e7b,this['set']('activeItemIndex',-0x1),this['_documentOutlineContainer']=_0x302e50,this['items']=this['createCollection'](),this['items']['delegate']('click')['to'](this),this['on']('click',this['_handleItemClick']['bind'](this)),this['on']('change:activeItemIndex',(_0x5c7918,_0x16d80a,_0x27abb8,_0xf606b3)=>{this['_setActiveItem'](_0xf606b3,_0x27abb8);}),this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-reset','ck-document-outline'],'dir':_0x50d576['contentLanguageDirection'],'data-document-outline-empty-placeholder':t('Editor\x20headings\x20will\x20appear\x20here\x20as\x20you\x20type.'),'tabindex':-0x1},'children':this['items']});}['sync'](_0x16a554){_0x16a554['forEach'](_0x21e1f3=>{'insert'==_0x21e1f3['type']?this['_insertItem'](_0x21e1f3['index'],..._0x21e1f3['values']):'delete'==_0x21e1f3['type']&&this['_deleteItem'](_0x21e1f3['index'],_0x21e1f3['howMany']);});}['_setActiveItem'](_0x1a95ad,_0x4c7763){if(-0x1!==_0x1a95ad){const _0x1dc98c=this['items']['get'](_0x1a95ad);_0x1dc98c&&(_0x1dc98c['isActive']=!0x1);}-0x1!==_0x4c7763&&(this['items']['get'](_0x4c7763)['isActive']=!0x0,this['_scrollToItem'](_0x4c7763));}['_insertItem'](_0x4c9062,..._0x2d3cf8){const _0x498367=_0x2d3cf8['map']((_0x4b1992,_0xb198d)=>{const _0x5a3134=new _0x3d70a5(this['locale'],this['showEmptyHeadingText']);return _0x5a3134['text']=_0x4b1992['text'],_0x5a3134['level']=_0x4b1992['level'],_0x4c9062+_0xb198d===this['activeItemIndex']&&(_0x5a3134['isActive']=!0x0),_0x5a3134;});this['items']['addMany'](_0x498367,_0x4c9062);}['_deleteItem'](_0x1e3e03,_0x1adea0){do{this['items']['remove'](_0x1e3e03);}while(--_0x1adea0);}['_handleItemClick'](_0x3beb60){const _0x59c4a5=this['items']['getIndex'](_0x3beb60['source']);this['fire']('itemSelected',_0x59c4a5);}['_scrollToItem'](_0x357dc0){_0x407b6a(this['items']['get'](_0x357dc0)['element'],0x14,this['_documentOutlineContainer']);}['destroy'](){super['destroy'](),this['element']['remove']();}}
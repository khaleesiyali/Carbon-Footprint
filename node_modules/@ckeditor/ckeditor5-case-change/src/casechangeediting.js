/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x24ccb5}from'ckeditor5/src/core.js';import _0x3bad2c from'./casechangecommand.js';export default class s extends _0x24ccb5{constructor(){super(...arguments),this['_currentCommandIndex']=0x0;}static get['pluginName'](){return'CaseChangeEditing';}['init'](){const _0x201a2e=this['editor'],_0x1579ca=_0x201a2e['locale']['contentLanguage'],_0x4b4f10=function(_0x42125e=[]){return'function'==typeof _0x42125e?_0x42125e:(_0x1ba920,{wordIndex:_0xe16705})=>_0xe16705>0x0&&_0x42125e['includes'](_0x1ba920);}(_0x201a2e['config']['get']('caseChange.titleCase.excludeWords')),_0x5a2307={'changeCaseUpper':new _0x3bad2c(_0x201a2e,_0x908d57=>_0x908d57['toLocaleUpperCase'](_0x1579ca)),'changeCaseLower':new _0x3bad2c(_0x201a2e,_0x152e74=>_0x152e74['toLocaleLowerCase'](_0x1579ca)),'changeCaseTitle':new _0x3bad2c(_0x201a2e,_0x1ab87a=>function(_0x4f8ccc,_0x437b9f,_0x58ebca){return function(_0x9079dd,_0x3b7432){let _0x323449='',_0x2a1a1d=0x0,_0x3faaac=0x0;for(const _0x9ae382 of _0x9079dd['matchAll'](/ +/g)){const _0x506c5b=_0x9ae382['index'],_0x2a2906=_0x9079dd['substring'](_0x2a1a1d,_0x506c5b);_0x2a2906['length']&&(_0x323449+=_0x3b7432(_0x2a2906,_0x2a1a1d,_0x3faaac++)),_0x323449+=_0x9ae382[0x0],_0x2a1a1d=_0x506c5b+_0x9ae382[0x0]['length'];}const _0x34c252=_0x9079dd['substring'](_0x2a1a1d);return _0x34c252['length']&&(_0x323449+=_0x3b7432(_0x34c252,_0x2a1a1d,_0x3faaac)),_0x323449;}(_0x4f8ccc,(_0x345892,_0x1f885a,_0x2286c2)=>{const _0x23a174=_0x345892['toLocaleLowerCase'](_0x58ebca);return _0x437b9f(_0x23a174,{'charOffset':_0x1f885a,'wordIndex':_0x2286c2,'blockText':_0x4f8ccc})?_0x23a174:_0x23a174['replace'](/(?:^|[^\p{L}\d'])\p{L}/gu,_0x2e7db1=>_0x2e7db1['toLocaleUpperCase'](_0x58ebca));});}(_0x1ab87a,_0x4b4f10,_0x1579ca))};for(const [_0x5542a3,_0x56ecbe]of Object['entries'](_0x5a2307))_0x201a2e['commands']['add'](_0x5542a3,_0x56ecbe),_0x56ecbe['on']('execute',()=>{this['_announceCaseChangeOperation'](_0x5542a3);});this['listenTo'](_0x201a2e['editing']['view']['document'],'selectionChange',()=>{this['_currentCommandIndex']=0x0;}),_0x201a2e['keystrokes']['set']('shift+f3',(_0x1abc63,_0x1ec2e0)=>{const _0xe4833f=_getOptions(this['editor']['t']),_0x3cef22=_0xe4833f[this['_currentCommandIndex']%_0xe4833f['length']]['commandName'];_0x201a2e['execute'](_0x3cef22),this['_currentCommandIndex']++,_0x1ec2e0();});}['_announceCaseChangeOperation'](_0x227ec1){const {t:t,ui:_0x1d8a96}=this['editor'],_0x32b3ec=_getOptions(t)['find'](_0x1526ca=>_0x1526ca['commandName']===_0x227ec1)['label']['toLowerCase']();_0x1d8a96['ariaLiveAnnouncer']['announce'](t('Changed\x20case\x20to\x20%0',_0x32b3ec));}}export function _getOptions(t){return[{'label':t('UPPERCASE'),'commandName':'changeCaseUpper'},{'label':t('lowercase'),'commandName':'changeCaseLower'},{'label':t('Title\x20Case'),'commandName':'changeCaseTitle'}];}
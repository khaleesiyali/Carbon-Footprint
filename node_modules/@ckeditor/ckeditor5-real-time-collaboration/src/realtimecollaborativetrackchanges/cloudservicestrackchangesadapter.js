/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1c80ad=_0x2a58;(function(_0x57d56a,_0x49144a){const _0x53cf2f=_0x2a58,_0x18ff6d=_0x57d56a();while(!![]){try{const _0x4569ce=-parseInt(_0x53cf2f(0x1dd))/0x1+-parseInt(_0x53cf2f(0x1e6))/0x2*(parseInt(_0x53cf2f(0x1fd))/0x3)+parseInt(_0x53cf2f(0x1d5))/0x4+parseInt(_0x53cf2f(0x206))/0x5*(-parseInt(_0x53cf2f(0x1e0))/0x6)+parseInt(_0x53cf2f(0x1de))/0x7+parseInt(_0x53cf2f(0x1d7))/0x8*(parseInt(_0x53cf2f(0x205))/0x9)+parseInt(_0x53cf2f(0x1ed))/0xa;if(_0x4569ce===_0x49144a)break;else _0x18ff6d['push'](_0x18ff6d['shift']());}catch(_0x216bc7){_0x18ff6d['push'](_0x18ff6d['shift']());}}}(_0x433c,0x2b938));function _0x433c(){const _0x38d57d=['catch','963160QZrvIS','add','_fetchMissingUsersForThreads','values','data','size','state','from','getUser','attributes','delete','connection','startsWith','init','get','getMany','93441BETDGz','type','suggestionUpdated','open','adapter','addSuggestionData','isConnected','cloud-services-internal-error:\x20Request\x20timeout.','9fNNotZ','53785ByvnDF','_trackChangesService','config','connect','getSuggestion','requires','TrackChangesService','addUser','off','hasSuggestion','addToReconnectionStack','782692KEFHSS','_waitForServiceReady','2486488eMlFQR','update','originalSuggestionId','editor','_saved','message','106266OZyfaJ','52871QLKHXt','plugins','60rGveYn','TrackChangesEditing','then','collaboration.channelId','listenTo','reconnect','14nwtzZZ','set','find','connected','cloud-services-internal-error:\x20Not\x20connected.','_bufferedRequests'];_0x433c=function(){return _0x38d57d;};return _0x433c();}import{Plugin as _0x199367}from'ckeditor5/src/core.js';import{User as _0x9a9db6,TrackChangesService as _0x28c495}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';import _0xb0d7e5 from'../realtimecollaborativeediting/websocketgateway.js';import _0x58e618 from'../realtimecollaborativecomments/cloudservicescommentsadapter.js';import{Users as _0x232273}from'ckeditor5-collaboration/src/collaboration-core.js';class g extends _0x199367{static get[_0x1c80ad(0x1cf)](){const _0x3bd1e5=_0x1c80ad;return[_0x58e618,_0x3bd1e5(0x1e1),_0xb0d7e5];}constructor(_0x116e98){const _0x562770=_0x1c80ad;super(_0x116e98);const _0x183a63=this[_0x562770(0x1da)][_0x562770(0x1cc)][_0x562770(0x1fb)](_0x562770(0x1e3));this[_0x562770(0x1eb)]=new Map(),this[_0x562770(0x1cb)]=new g[(_0x562770(0x1d0))](_0x183a63);}[_0x1c80ad(0x1fa)](){const _0x5fb1ec=_0x1c80ad,_0x2af8ab=this[_0x5fb1ec(0x1da)][_0x5fb1ec(0x1df)][_0x5fb1ec(0x1fb)](_0xb0d7e5),_0x473214=this[_0x5fb1ec(0x1da)][_0x5fb1ec(0x1df)][_0x5fb1ec(0x1fb)](_0x5fb1ec(0x1e1));return _0x473214[_0x5fb1ec(0x201)]={'getSuggestion':async _0x409646=>{const _0x1117e2=_0x5fb1ec;await this[_0x1117e2(0x1d6)]();const _0xef188=await this[_0x1117e2(0x1cb)][_0x1117e2(0x1fb)](_0x409646)[_0x1117e2(0x1ec)](B);return await this[_0x1117e2(0x1ef)]([_0xef188]),_0xef188;},'addSuggestion':async({id:_0x43a659,type:_0x48a6b1,data:_0x234c02,originalSuggestionId:_0x547d59,attributes:_0x11adf0})=>{const _0x41431b=_0x5fb1ec;await this[_0x41431b(0x1d6)]();const _0x173931={'id':_0x43a659,'type':_0x48a6b1,'data':_0x234c02,'originalSuggestionId':_0x547d59,'attributes':_0x11adf0},_0x2e5073=await this[_0x41431b(0x1cb)][_0x41431b(0x1ee)](_0x43a659,_0x48a6b1,_0x234c02,_0x547d59,_0x11adf0)[_0x41431b(0x1ec)](_0x50401a=>{if(st(_0x50401a))return new Promise(_0x32cf0c=>{const _0x7dca17=_0x2a58;this[_0x7dca17(0x1eb)][_0x7dca17(0x1e7)](_0x43a659,{'resolve':_0x32cf0c,'suggestionData':_0x173931});});throw _0x50401a;});return this[_0x41431b(0x1eb)][_0x41431b(0x1f7)](_0x43a659),_0x2e5073;},'updateSuggestion':async(_0x1bd489,_0x541c29)=>{const _0x8954c2=_0x5fb1ec;if(await this[_0x8954c2(0x1d6)](),_0x8954c2(0x200)!==_0x541c29[_0x8954c2(0x1f3)])return this[_0x8954c2(0x1cb)][_0x8954c2(0x1d8)](_0x1bd489,_0x541c29)[_0x8954c2(0x1ec)](B);}},this[_0x5fb1ec(0x1e4)](this[_0x5fb1ec(0x1cb)],_0x5fb1ec(0x1ff),(_0x46f2cb,_0x3822f7)=>{const _0xa0e60=_0x5fb1ec;_0x473214[_0xa0e60(0x1d3)](_0x3822f7['id'])&&(_0x473214[_0xa0e60(0x1ce)](_0x3822f7['id'])[_0xa0e60(0x1f6)]=_0x3822f7[_0xa0e60(0x1f6)]);}),this[_0x5fb1ec(0x1cb)][_0x5fb1ec(0x1cd)](_0x2af8ab[_0x5fb1ec(0x1f8)])[_0x5fb1ec(0x1e2)](_0x25316d=>(_0x2af8ab[_0x5fb1ec(0x1d4)](this),this[_0x5fb1ec(0x1ef)](_0x25316d)[_0x5fb1ec(0x1e2)](()=>{const _0x512884=_0x5fb1ec;for(const _0x31b588 of _0x25316d){_0x473214[_0x512884(0x202)](_0x31b588)[_0x512884(0x1db)]=!0x0;}})));}async[_0x1c80ad(0x1e5)](){const _0x51e926=_0x1c80ad,_0x352966=this[_0x51e926(0x1da)][_0x51e926(0x1df)][_0x51e926(0x1fb)](_0x51e926(0x1e1)),{connection:_0x3b1395}=this[_0x51e926(0x1da)][_0x51e926(0x1df)][_0x51e926(0x1fb)](_0xb0d7e5),_0x150e83=await this[_0x51e926(0x1cb)][_0x51e926(0x1cd)](_0x3b1395);await this[_0x51e926(0x1ef)](_0x150e83);for(const {suggestionData:_0x418e6f,resolve:_0x2fbd19}of this[_0x51e926(0x1eb)][_0x51e926(0x1f0)]()){let _0x48948b=_0x150e83[_0x51e926(0x1e8)](_0xc08ec5=>_0xc08ec5['id']===_0x418e6f['id']);_0x48948b||(_0x48948b=await this[_0x51e926(0x1cb)][_0x51e926(0x1ee)](_0x418e6f['id'],_0x418e6f[_0x51e926(0x1fe)],_0x418e6f[_0x51e926(0x1f1)],_0x418e6f[_0x51e926(0x1d9)])),_0x2fbd19(_0x48948b);}for(const _0x832ff3 of _0x150e83)_0x352966[_0x51e926(0x1d3)](_0x832ff3['id'])||_0x352966[_0x51e926(0x202)](_0x832ff3);}async[_0x1c80ad(0x1d6)](){const _0x5ea965=_0x1c80ad;this[_0x5ea965(0x1cb)][_0x5ea965(0x203)]||await new Promise(_0x146861=>{const _0x2e542c=_0x5ea965;this[_0x2e542c(0x1e4)](this[_0x2e542c(0x1cb)],_0x2e542c(0x1e9),_0x4133f1=>{const _0x15f6b8=_0x2e542c;_0x4133f1[_0x15f6b8(0x1d2)](),_0x146861();});});}async[_0x1c80ad(0x1ef)](_0xde4364){const _0x1590bf=_0x1c80ad,_0x1d08be=this[_0x1590bf(0x1da)][_0x1590bf(0x1df)][_0x1590bf(0x1fb)](_0x232273),{connection:_0x392e91}=this[_0x1590bf(0x1da)][_0x1590bf(0x1df)][_0x1590bf(0x1fb)](_0xb0d7e5),_0x1ca646=new Set();for(const {authorId:_0x327f3}of _0xde4364)_0x1d08be[_0x1590bf(0x1f5)](_0x327f3)||_0x1ca646[_0x1590bf(0x1ee)](_0x327f3);if(0x0===_0x1ca646[_0x1590bf(0x1f2)])return;const _0x5061b2=await _0x9a9db6[_0x1590bf(0x1fc)](_0x392e91,Array[_0x1590bf(0x1f4)](_0x1ca646));for(const _0x480d42 of _0x5061b2)_0x1d08be[_0x1590bf(0x1f5)](_0x480d42['id'])||_0x1d08be[_0x1590bf(0x1d1)](_0x480d42);}}function _0x2a58(_0x59ad7d,_0x36867a){const _0x433c98=_0x433c();return _0x2a58=function(_0x2a580b,_0x5c3e76){_0x2a580b=_0x2a580b-0x1cb;let _0x5ced9c=_0x433c98[_0x2a580b];return _0x5ced9c;},_0x2a58(_0x59ad7d,_0x36867a);}g[_0x1c80ad(0x1d0)]=_0x28c495;export default g;function B(_0x4aeeae){if(st(_0x4aeeae))return new Promise(()=>{});throw _0x4aeeae;}function st(_0x133a28){const _0x4da31a=_0x1c80ad;return _0x133a28[_0x4da31a(0x1dc)][_0x4da31a(0x1f9)](_0x4da31a(0x1ea))||_0x133a28[_0x4da31a(0x1dc)][_0x4da31a(0x1f9)](_0x4da31a(0x204));}
/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5987b1=_0x3492;(function(_0x5e3046,_0x27ea0a){const _0x7a091f=_0x3492,_0x30ab45=_0x5e3046();while(!![]){try{const _0x4426b6=parseInt(_0x7a091f(0x183))/0x1+-parseInt(_0x7a091f(0x181))/0x2+-parseInt(_0x7a091f(0x199))/0x3+parseInt(_0x7a091f(0x1c1))/0x4+-parseInt(_0x7a091f(0x19b))/0x5+parseInt(_0x7a091f(0x18d))/0x6+parseInt(_0x7a091f(0x1c0))/0x7*(parseInt(_0x7a091f(0x1ab))/0x8);if(_0x4426b6===_0x27ea0a)break;else _0x30ab45['push'](_0x30ab45['shift']());}catch(_0x1baec1){_0x30ab45['push'](_0x30ab45['shift']());}}}(_0x2d0e,0x8083e));import{ContextPlugin as _0x4e012e}from'ckeditor5/src/core.js';import{CKEditorError as _0xcda8eb,Collection as _0x1356ca}from'ckeditor5/src/utils.js';import{clickOutsideHandler as _0x3da464,BodyCollection as _0x39ad9f,BalloonPanelView as _0x5462cf}from'ckeditor5/src/ui.js';function _0x2d0e(){const _0x119d9e=['listenTo','detachFromDom','presenceList.container','allConnectedUsers','length','from','unpin','isMe','hideDropdown','hasTooltip','currentDisplayedUsers','content','add','destroy','render','set','last','pin','154021WBdtBo','766972bbrepw','reverse','attachToDom','appendChild','presencelist-missing-container','presenceList.displayMe','isCollapsed','324652WWVuUG','class','504831LwBjVe','locale','view','context','counterView','requires','get','items','init','_bodyCollection','4015608pgqPyf','presenceList','_handleUserRemove','_allConnectedUsers','onClick','isVisible','execute','isRendered','presencelist-collapseat-invalid-format','usersCount','balloonPanelView','number','831153XAvZRc','displayMe','3100485qcGrjG','_calculateNewUserPosition','plugins','_handleUserAdd','define','bindTo','_createView','using','bind','isHidden','element','inlineListView','config','presenceDropdownView','remove','ck\x20ck-presence-list__balloon','80mFyQjn','presenceList.collapseAt','showDropdown'];_0x2d0e=function(){return _0x119d9e;};return _0x2d0e();}import{isElement as _0x55f216}from'lodash-es';import _0x1e1b72 from'../realtimecollaborativeediting/sessions.js';import _0x171f14 from'./view/presencelistview.js';import _0x5ab50a from'./view/presencedropdownlistview.js';import _0x54519a from'./view/presencedropdownlistitemview.js';function _0x3492(_0x1cb679,_0x5bffcf){const _0x2d0eb7=_0x2d0e();return _0x3492=function(_0x349204,_0x258ff1){_0x349204=_0x349204-0x17e;let _0x36a77a=_0x2d0eb7[_0x349204];return _0x36a77a;},_0x3492(_0x1cb679,_0x5bffcf);}import _0x5e11d5 from'./view/presenceinlinelistitemview.js';const _={'collapseAt':0x6,'displayMe':!0x0};export default class s extends _0x4e012e{constructor(_0xc0ee87){const _0x576105=_0x3492;super(_0xc0ee87),this[_0x576105(0x186)][_0x576105(0x1a7)][_0x576105(0x19f)](_0x576105(0x18e),_);const _0x87e63c=_0xc0ee87[_0x576105(0x1a7)][_0x576105(0x189)](_0x576105(0x1ac));if(_0x576105(0x198)!=typeof _0x87e63c)throw new _0xcda8eb(_0x576105(0x195),this);if(_0x87e63c<0x1)throw new _0xcda8eb(_0x576105(0x195),this);this[_0x576105(0x190)]=this[_0x576105(0x186)][_0x576105(0x19d)][_0x576105(0x189)](_0x1e1b72)[_0x576105(0x1b1)],this[_0x576105(0x1bd)](_0x576105(0x196),0x0),this[_0x576105(0x1b8)]=new _0x1356ca(),this[_0x576105(0x197)]=new _0x5462cf(),this[_0x576105(0x197)][_0x576105(0x182)]=_0x576105(0x1aa),this[_0x576105(0x185)]=this[_0x576105(0x1a1)](),this[_0x576105(0x1a8)]=void 0x0;}static get[_0x5987b1(0x188)](){return[_0x1e1b72];}[_0x5987b1(0x18b)](){const _0x1c02f6=_0x5987b1;for(const _0x247cfc of this[_0x1c02f6(0x190)])this[_0x1c02f6(0x19e)](_0x247cfc);this[_0x1c02f6(0x1ae)](this[_0x1c02f6(0x190)],_0x1c02f6(0x1ba),(_0x6324ab,_0x5f2cd4)=>{const _0x3b569a=_0x1c02f6;this[_0x3b569a(0x19e)](_0x5f2cd4);}),this[_0x1c02f6(0x1ae)](this[_0x1c02f6(0x190)],_0x1c02f6(0x1a9),(_0x587965,_0x140cb2)=>{const _0x5d02f4=_0x1c02f6;this[_0x5d02f4(0x18f)](_0x140cb2);});}[_0x5987b1(0x1a1)](){const _0x5c4822=_0x5987b1,_0x427293=this[_0x5c4822(0x186)],_0x28cb71=new _0x171f14(this[_0x5c4822(0x186)][_0x5c4822(0x184)]),_0x58cb8f=this[_0x5c4822(0x197)];if(!_0x55f216(_0x427293[_0x5c4822(0x1a7)][_0x5c4822(0x189)](_0x5c4822(0x1b0))))throw new _0xcda8eb(_0x5c4822(0x17e),this);return _0x28cb71[_0x5c4822(0x187)][_0x5c4822(0x1a3)](_0x5c4822(0x196))['to'](this),_0x28cb71[_0x5c4822(0x1a3)](_0x5c4822(0x180))['to'](this,_0x5c4822(0x196),_0xe7f7cd=>{const _0x2e0898=_0x5c4822,{collapseAt:_0x3ba3df,displayMe:_0x18c12f}=_0x427293[_0x2e0898(0x1a7)][_0x2e0898(0x189)](_0x2e0898(0x18e)),_0xd2485b=_0xe7f7cd>=_0x3ba3df;return _0x28cb71[_0x2e0898(0x187)][_0x2e0898(0x1a4)]=!(0x1==_0xe7f7cd&&_0x18c12f||_0xd2485b),_0xd2485b||this[_0x2e0898(0x1b6)](),_0xd2485b;}),_0x28cb71[_0x5c4822(0x1a6)][_0x5c4822(0x18a)][_0x5c4822(0x1a0)](this[_0x5c4822(0x1b8)])[_0x5c4822(0x1a2)](_0x524839=>{const _0x4a9428=_0x5c4822,_0x24ba86=_0x427293[_0x4a9428(0x1a7)][_0x4a9428(0x189)](_0x4a9428(0x18e)),_0x1ab756=new _0x5e11d5(_0x427293[_0x4a9428(0x184)],_0x524839,!!_0x24ba86[_0x4a9428(0x191)]);return _0x1ab756[_0x4a9428(0x1a3)](_0x4a9428(0x1b7))['to'](_0x28cb71,_0x4a9428(0x180),_0xcb0b87=>!_0xcb0b87),_0x24ba86[_0x4a9428(0x191)]&&this[_0x4a9428(0x1ae)](_0x1ab756,_0x4a9428(0x193),()=>{const _0x207647=_0x4a9428;this[_0x207647(0x185)][_0x207647(0x180)]||_0x24ba86[_0x207647(0x191)](_0x524839,_0x1ab756[_0x207647(0x1a5)]);}),_0x1ab756;}),this[_0x5c4822(0x1ae)](_0x28cb71[_0x5c4822(0x1a6)],_0x5c4822(0x193),()=>{const _0x780222=_0x5c4822;this[_0x780222(0x1a8)]?this[_0x780222(0x1b6)]():this[_0x780222(0x185)][_0x780222(0x180)]&&this[_0x780222(0x1ad)]();}),_0x28cb71[_0x5c4822(0x1bc)](),_0x58cb8f[_0x5c4822(0x1bc)](),_0x3da464({'emitter':_0x28cb71,'activator':()=>_0x58cb8f[_0x5c4822(0x192)],'contextElements':[_0x58cb8f[_0x5c4822(0x1a5)],_0x28cb71[_0x5c4822(0x1a6)][_0x5c4822(0x1a5)]],'callback':()=>this[_0x5c4822(0x1b6)]()}),_0x427293[_0x5c4822(0x1a7)][_0x5c4822(0x189)](_0x5c4822(0x1b0))[_0x5c4822(0x1c4)](_0x28cb71[_0x5c4822(0x1a5)]),this[_0x5c4822(0x18c)]=new _0x39ad9f(this[_0x5c4822(0x186)][_0x5c4822(0x184)]),this[_0x5c4822(0x18c)][_0x5c4822(0x1c3)](),this[_0x5c4822(0x18c)][_0x5c4822(0x1ba)](_0x58cb8f),_0x28cb71;}[_0x5987b1(0x19e)](_0x117abc){const _0x33240d=_0x5987b1;if(!this[_0x33240d(0x186)][_0x33240d(0x1a7)][_0x33240d(0x189)](_0x33240d(0x17f))&&_0x117abc[_0x33240d(0x1b5)])return;const _0x5bff33=this[_0x33240d(0x186)][_0x33240d(0x1a7)][_0x33240d(0x189)](_0x33240d(0x1ac))-0x1;this[_0x33240d(0x196)]++,this[_0x33240d(0x1b8)][_0x33240d(0x1b2)]==_0x5bff33&&this[_0x33240d(0x1b8)][_0x33240d(0x1a9)](0x0);const _0x390926=this[_0x33240d(0x19c)](_0x117abc);this[_0x33240d(0x1b8)][_0x33240d(0x1ba)](_0x117abc,_0x390926);}[_0x5987b1(0x18f)](_0x2b454c){const _0x2e448a=_0x5987b1;if(this[_0x2e448a(0x196)]--,this[_0x2e448a(0x1b8)][_0x2e448a(0x189)](_0x2b454c['id'])&&(this[_0x2e448a(0x1b8)][_0x2e448a(0x1a9)](_0x2b454c['id']),this[_0x2e448a(0x1b8)][_0x2e448a(0x1b2)]<this[_0x2e448a(0x196)])){for(const _0x170b63 of Array[_0x2e448a(0x1b3)](this[_0x2e448a(0x190)])[_0x2e448a(0x1c2)]())if(!this[_0x2e448a(0x1b8)][_0x2e448a(0x189)](_0x170b63['id']))return void this[_0x2e448a(0x1b8)][_0x2e448a(0x1ba)](_0x170b63,0x0);}}[_0x5987b1(0x19c)](_0x223770){const _0x2b83b9=_0x5987b1;return Boolean(this[_0x2b83b9(0x1b8)][_0x2b83b9(0x1be)]&&this[_0x2b83b9(0x1b8)][_0x2b83b9(0x1be)][_0x2b83b9(0x1b5)])&&!_0x223770[_0x2b83b9(0x1b5)]?this[_0x2b83b9(0x1b8)][_0x2b83b9(0x1b2)]-0x1:this[_0x2b83b9(0x1b8)][_0x2b83b9(0x1b2)];}[_0x5987b1(0x1ad)](){const _0x223f49=_0x5987b1;if(this[_0x223f49(0x1a8)])return;this[_0x223f49(0x1a8)]=new _0x5ab50a(this[_0x223f49(0x186)][_0x223f49(0x184)]);const _0xa75e2a=this[_0x223f49(0x186)][_0x223f49(0x1a7)][_0x223f49(0x189)](_0x223f49(0x18e));this[_0x223f49(0x1a8)][_0x223f49(0x18a)][_0x223f49(0x1a0)](this[_0x223f49(0x190)])[_0x223f49(0x1a2)](_0x183902=>{const _0x10cdde=_0x223f49;if(!_0xa75e2a[_0x10cdde(0x19a)]&&_0x183902[_0x10cdde(0x1b5)])return null;const _0x330897=new _0x54519a(this[_0x10cdde(0x186)][_0x10cdde(0x184)],_0x183902,!!_0xa75e2a[_0x10cdde(0x191)]);return _0xa75e2a[_0x10cdde(0x191)]&&this[_0x10cdde(0x1ae)](_0x330897,_0x10cdde(0x193),()=>{const _0x351927=_0x10cdde;_0xa75e2a[_0x351927(0x191)](_0x183902,_0x330897[_0x351927(0x1a5)]);}),_0x330897;}),this[_0x223f49(0x197)][_0x223f49(0x1b9)][_0x223f49(0x1ba)](this[_0x223f49(0x1a8)]),this[_0x223f49(0x197)][_0x223f49(0x1bf)]({'target':this[_0x223f49(0x185)][_0x223f49(0x1a6)][_0x223f49(0x1a5)]});}[_0x5987b1(0x1b6)](){const _0x390625=_0x5987b1;this[_0x390625(0x1a8)]&&(this[_0x390625(0x197)][_0x390625(0x1b4)](),this[_0x390625(0x197)][_0x390625(0x1b9)][_0x390625(0x1a9)](this[_0x390625(0x1a8)]),this[_0x390625(0x1a8)][_0x390625(0x1bb)](),this[_0x390625(0x1a8)]=void 0x0);}[_0x5987b1(0x1bb)](){const _0xe9e15=_0x5987b1;super[_0xe9e15(0x1bb)](),this[_0xe9e15(0x185)]&&this[_0xe9e15(0x185)][_0xe9e15(0x194)]&&this[_0xe9e15(0x185)][_0xe9e15(0x1bb)](),this[_0xe9e15(0x18c)]&&this[_0xe9e15(0x18c)][_0xe9e15(0x1af)]();}}
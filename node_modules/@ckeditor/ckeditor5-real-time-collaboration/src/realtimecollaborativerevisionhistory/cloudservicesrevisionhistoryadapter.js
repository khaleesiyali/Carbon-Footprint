/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x160bf8=_0x4251;(function(_0x4a59e8,_0x9d3c7f){const _0x31a803=_0x4251,_0x4fce6d=_0x4a59e8();while(!![]){try{const _0x16bbea=parseInt(_0x31a803(0xf9))/0x1+parseInt(_0x31a803(0xdb))/0x2*(parseInt(_0x31a803(0x110))/0x3)+-parseInt(_0x31a803(0xd1))/0x4*(parseInt(_0x31a803(0xe4))/0x5)+parseInt(_0x31a803(0x108))/0x6+-parseInt(_0x31a803(0xd7))/0x7+-parseInt(_0x31a803(0x112))/0x8*(-parseInt(_0x31a803(0xeb))/0x9)+-parseInt(_0x31a803(0xfa))/0xa*(parseInt(_0x31a803(0xd0))/0xb);if(_0x16bbea===_0x9d3c7f)break;else _0x4fce6d['push'](_0x4fce6d['shift']());}catch(_0x23e771){_0x4fce6d['push'](_0x4fce6d['shift']());}}}(_0x5de1,0x1b47d));import{Plugin as _0x2db572}from'ckeditor5/src/core.js';import{version as _0x380c70}from'ckeditor5/src/utils.js';import{Users as _0x2975c1}from'ckeditor5-collaboration/src/collaboration-core.js';function _0x5de1(){const _0x53cdcc=['_lastRequestId','listenTo','wrongRequestId','affectsData','692384mBpGzq','_createCurrentRevision','_waitForServiceReady','cloud-services-internal-error:\x20Request\x20timeout.','53116YddzUS','from','init','isBundleUploaded','destroy','getUser','baseVersion','getMany','createdAt','410MDlGLp','config','bind','addRevisionData','fromVersion','setSource','has','9GmaNSV','remove','_revisions','sessionId','_bufferedUpdates','_fixRevision','sendBufferedUpdates','map','addToReconnectionStack','editor','getOperations','_isPendingUpdate','creatorId','connected','124767qwIwJk','54260WlsgYh','toVersion','off','RevisionTracker','cloud-services-internal-error:\x20Not\x20connected.','code','reconnect','addUser','_preventResendingRevisionData','reInit','change:_isConnected','_revisionTracker','marker','_update','1230954EqNPfA','size','diffData','getRevision','data','_startingVersion','reverse','get','6DQMCTO','max','1766488iVZdan','connect','authorsIds','serverHistory','currentRevision','state','_handleRevisionsUpdate','_handleReconnectionError','startsWith','buildRevisionData','_isConnected','400','once','updateRevisions','_fetchMissingUsers','isConnected','requires','cloudServices.bundleVersion','setRevisionData','cloud-services-internal-error:\x20Revision\x20History\x20Service\x20is\x20not\x20connected.','getRevisions','isEnabled','add','catch','connection','plugins','adapter','revisionsUpdated','RevisionHistoryService','_revisionDataBuilder','_oldOffset','message','_revisionHistoryService','_getLatestVersion','then','isEmptyCurrent','change:_isPendingUpdate','_bufferUpdate','CONNECTED','_getLatestVersionFromServerOperations','_offset','type','keys','collaboration.channelId','length','repository','781eTYZIL','388SGjNJt','authors'];_0x5de1=function(){return _0x53cdcc;};return _0x5de1();}import _0x2abbee from'../realtimecollaborativeediting/realtimecollaborationclient.js';import _0x1eae00 from'../realtimecollaborativeediting/websocketgateway.js';import _0x100ae7 from'../realtimecollaborativeediting/sessions.js';function _0x4251(_0x3abbe6,_0x210fbe){const _0x5de1d1=_0x5de1();return _0x4251=function(_0x4251d3,_0x1a391a){_0x4251d3=_0x4251d3-0xb9;let _0x7aa2b3=_0x5de1d1[_0x4251d3];return _0x7aa2b3;},_0x4251(_0x3abbe6,_0x210fbe);}import{EditorService as _0x934b92,RevisionHistoryService as _0x1716d1,User as _0x516d39,WEB_SOCKET_GATEWAY_STATES as _0x2bdb0b}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';class v extends _0x2db572{static get[_0x160bf8(0x122)](){const _0x335b74=_0x160bf8;return[_0x1eae00,_0x2abbee,_0x335b74(0xfd),_0x100ae7,_0x2975c1];}constructor(_0x140892){const _0x3dafc3=_0x160bf8;super(_0x140892);const _0x3412a=this[_0x3dafc3(0xf4)][_0x3dafc3(0xe5)][_0x3dafc3(0x10f)](_0x3dafc3(0xcd));this[_0x3dafc3(0xd3)]=null,this[_0x3dafc3(0x105)]=this[_0x3dafc3(0xf4)][_0x3dafc3(0xbb)][_0x3dafc3(0x10f)](_0x3dafc3(0xfd)),this[_0x3dafc3(0xc2)]=new v[(_0x3dafc3(0xbe))](_0x3412a);}async[_0x160bf8(0xdd)](){const _0x1541ed=_0x160bf8,_0x14ae9e=this[_0x1541ed(0xf4)][_0x1541ed(0xbb)][_0x1541ed(0x10f)](_0x2abbee),_0x5b6ae9=_0x14ae9e[_0x1541ed(0x115)],_0x4d1865=this[_0x1541ed(0xf4)][_0x1541ed(0xbb)][_0x1541ed(0x10f)](_0x1eae00);this[_0x1541ed(0x105)][_0x1541ed(0xe9)]({'history':_0x5b6ae9,'getLatestVersion':()=>this[_0x1541ed(0xc3)](),'getCurrentRevisionId':()=>_0x14ae9e[_0x1541ed(0xee)]});const _0x4bad24=this[_0x1541ed(0xf4)][_0x1541ed(0xe5)][_0x1541ed(0x10f)](_0x1541ed(0x123))||_0x380c70,_0x1d58d8=await _0x934b92[_0x1541ed(0xde)](_0x4d1865[_0x1541ed(0xba)],_0x4bad24);this[_0x1541ed(0x105)][_0x1541ed(0xbc)]={'getRevision':async({revisionId:_0x326f37})=>(await this[_0x1541ed(0xd9)](),await this[_0x1541ed(0xc2)][_0x1541ed(0x10b)](_0x326f37)),'updateRevisions':async _0x2dfc24=>{const _0xd16445=_0x1541ed;await this[_0xd16445(0xd9)]();const _0x4d139d=this[_0xd16445(0x105)][_0xd16445(0x116)];if(_0x1d58d8&&0x1===_0x2dfc24[_0xd16445(0xce)]&&_0x2dfc24[0x0]['id']===_0x4d139d['id'])return _0x2dfc24;for(const _0x14384c of _0x2dfc24)_0x14384c['id']===_0x4d139d['id']&&(_0x14384c[_0xd16445(0xc5)]=_0x14384c[_0xd16445(0xe8)]===_0x14384c[_0xd16445(0xfb)]);return this[_0xd16445(0xc2)][_0xd16445(0x11f)](_0x2dfc24,this[_0xd16445(0xd3)])[_0xd16445(0xc4)](_0x4de6e4=>(this[_0xd16445(0xd3)]=_0x4de6e4,_0x2dfc24))[_0xd16445(0xb9)](_0x5f3c78=>{const _0x890e34=_0xd16445;if(st(_0x5f3c78)||_0x890e34(0x11d)===_0x5f3c78[_0x890e34(0xff)]&&void 0x0!==_0x5f3c78[_0x890e34(0x10c)][_0x890e34(0xd5)]){for(const _0x1fbe76 of _0x2dfc24){!this[_0x890e34(0x105)][_0x890e34(0xcf)][_0x890e34(0x10b)](_0x1fbe76['id'])||this[_0x890e34(0x105)][_0x890e34(0xc7)](_0x1fbe76['id'],_0x1fbe76,!0x1);}if(st(_0x5f3c78))throw _0x5f3c78;return _0x2dfc24;}throw _0x5f3c78;});}},this[_0x1541ed(0xd4)](this[_0x1541ed(0xc2)],_0x1541ed(0xbd),(_0x42e408,{revisionsData:_0x16884c,requestId:_0x2e6254})=>{const _0x42bc1a=_0x1541ed;Math[_0x42bc1a(0x111)](..._0x16884c[_0x42bc1a(0xf2)](_0x400c12=>_0x400c12[_0x42bc1a(0xfb)]))>this[_0x42bc1a(0xc9)]()-0x1?this[_0x42bc1a(0xc3)]()[_0x42bc1a(0xc4)](()=>{const _0x203069=_0x42bc1a;this[_0x203069(0x118)](_0x16884c,_0x2e6254);}):this[_0x42bc1a(0x118)](_0x16884c,_0x2e6254);});const {revisions:_0x354128,requestId:_0x2f4c2f}=await this[_0x1541ed(0xc2)][_0x1541ed(0x113)](_0x4d1865[_0x1541ed(0xba)]);_0x4d1865[_0x1541ed(0xf3)](this),this[_0x1541ed(0xd3)]=_0x2f4c2f,await this[_0x1541ed(0x120)](_0x354128);for(const _0x1288f4 of _0x354128)this[_0x1541ed(0x105)][_0x1541ed(0xe7)](_0x1288f4);this[_0x1541ed(0xd4)](_0x14ae9e,_0x1541ed(0x104),(_0x294e5e,_0x436b80,_0x32295f)=>{const _0x4fca27=_0x1541ed;_0x32295f&&(this[_0x4fca27(0xc0)]=_0x14ae9e[_0x4fca27(0xca)],_0x294e5e[_0x4fca27(0xfc)]());}),this[_0x1541ed(0x105)][_0x1541ed(0xe6)](_0x1541ed(0x127))['to'](_0x4d1865,_0x1541ed(0x117),_0x174207=>_0x174207===_0x2bdb0b[_0x1541ed(0xc8)]);}async[_0x160bf8(0x100)](){const _0x3b353d=_0x160bf8,_0xcb5df5=this[_0x3b353d(0xf4)][_0x3b353d(0xbb)][_0x3b353d(0x10f)](_0x1eae00),_0x12e2ab=this[_0x3b353d(0xf4)][_0x3b353d(0xbb)][_0x3b353d(0x10f)](_0x2abbee),_0x314156=async()=>{const _0x3fa134=_0x3b353d,_0x45a853=this[_0x3fa134(0x105)][_0x3fa134(0x116)],_0xc0b65f=_0x45a853['id'],_0x554b40=_0xc0b65f!==_0x12e2ab[_0x3fa134(0xee)];if(_0x554b40){const _0x23898a=_0x12e2ab[_0x3fa134(0xca)]-this[_0x3fa134(0xc0)],_0x3a8bc3=this[_0x3fa134(0xc9)]();this[_0x3fa134(0x105)][_0x3fa134(0xbf)][_0x3fa134(0x103)]();if(_0x45a853[_0x3fa134(0xfb)]+_0x23898a!==_0x3a8bc3){const _0x8cbe98=_0x45a853[_0x3fa134(0xe8)]+_0x23898a,_0x3af758=this[_0x3fa134(0xf4)][_0x3fa134(0xbb)][_0x3fa134(0x10f)](_0x2975c1),_0x590b80=this[_0x3fa134(0x105)][_0x3fa134(0x11b)]({'revision':_0x45a853,'from':_0x8cbe98,'to':_0x3a8bc3});_0x590b80['id']=_0x45a853['id'];const _0x33dd86=_0x590b80[_0x3fa134(0x114)][_0x3fa134(0xf2)](_0x22d66f=>_0x3af758[_0x3fa134(0xe0)](_0x22d66f));_0x45a853[_0x3fa134(0x107)]({..._0x590b80,'authors':_0x33dd86},!0x0),this[_0x3fa134(0x105)][_0x3fa134(0xc7)](_0x45a853['id'],_0x590b80,!0x0);}this[_0x3fa134(0x105)][_0x3fa134(0x10d)]=_0x3a8bc3,(_0x45a853[_0x3fa134(0xfb)]===_0x45a853[_0x3fa134(0xe8)]&&!this[_0x3fa134(0x105)][_0x3fa134(0xef)][_0x3fa134(0xea)](_0xc0b65f)&&this[_0x3fa134(0x105)][_0x3fa134(0xcf)][_0x3fa134(0xed)][_0x3fa134(0xec)](_0xc0b65f),this[_0x3fa134(0x105)][_0x3fa134(0xd8)](_0x3a8bc3));}const {revisions:_0x1e973f,requestId:_0x41ec6a}=await this[_0x3fa134(0xc2)][_0x3fa134(0x100)](_0xcb5df5[_0x3fa134(0xba)],this[_0x3fa134(0xd3)]);_0x554b40&&_0x1e973f[_0x3fa134(0xce)]>0x0?_0x12e2ab[_0x3fa134(0x119)]():(await this[_0x3fa134(0x120)](_0x1e973f),this[_0x3fa134(0x118)](_0x1e973f,_0x41ec6a),this[_0x3fa134(0x105)][_0x3fa134(0xf1)]());};return _0x12e2ab[_0x3b353d(0x11c)]?_0x314156():new Promise((_0x41cd16,_0x381211)=>{const _0x2feafa=_0x3b353d;_0x12e2ab[_0x2feafa(0x11e)](_0x2feafa(0x104),()=>{const _0x2163f9=_0x2feafa;_0x314156()[_0x2163f9(0xc4)](_0x41cd16)[_0x2163f9(0xb9)](_0x381211);});});}[_0x160bf8(0xdf)](){const _0x2c6182=_0x160bf8;super[_0x2c6182(0xdf)]();}async[_0x160bf8(0xd9)](){const _0x5b2017=_0x160bf8;this[_0x5b2017(0xc2)][_0x5b2017(0x121)]||await new Promise(_0x467c79=>{const _0xeeb0b4=_0x5b2017;this[_0xeeb0b4(0xd4)](this[_0xeeb0b4(0xc2)],_0xeeb0b4(0xf8),_0x4630f3=>{const _0x18df1c=_0xeeb0b4;_0x4630f3[_0x18df1c(0xfc)](),_0x467c79();});});}[_0x160bf8(0xc9)](){const _0x31ff5b=_0x160bf8,_0x550686=this[_0x31ff5b(0xf4)][_0x31ff5b(0xbb)][_0x31ff5b(0x10f)](_0x2abbee)[_0x31ff5b(0x115)][_0x31ff5b(0xf5)]()[_0x31ff5b(0x10e)]();for(const _0x53fa28 of _0x550686)if(_0x31ff5b(0x106)!==_0x53fa28[_0x31ff5b(0xcb)]||_0x53fa28[_0x31ff5b(0xd6)])return _0x53fa28[_0x31ff5b(0xe1)]+0x1;}[_0x160bf8(0xc3)](){const _0x54b27b=_0x160bf8,_0x5c9091=this[_0x54b27b(0xf4)][_0x54b27b(0xbb)][_0x54b27b(0x10f)](_0x2abbee);return new Promise(_0x257e6d=>{const _0x37c6ec=_0x54b27b;_0x5c9091[_0x37c6ec(0xf6)]?_0x5c9091[_0x37c6ec(0x11e)](_0x37c6ec(0xc6),()=>{const _0xccd1a1=_0x37c6ec;_0x257e6d(this[_0xccd1a1(0xc9)]());}):_0x257e6d(this[_0x37c6ec(0xc9)]());});}[_0x160bf8(0x118)](_0x21cac8,_0x2beda3){const _0x4af206=_0x160bf8,_0x465804=this[_0x4af206(0x105)][_0x4af206(0xcf)];this[_0x4af206(0xd3)]=_0x2beda3;for(const _0x5c5442 of _0x21cac8){const _0x4eac01=_0x465804[_0x4af206(0x10b)](_0x5c5442['id']);if(_0x4eac01){if((_0x5c5442[_0x4af206(0xe8)]||_0x5c5442[_0x4af206(0xfb)])&&(_0x5c5442[_0x4af206(0x10a)]=null),_0x4eac01===this[_0x4af206(0x105)][_0x4af206(0x116)]){const _0x289eff=Math[_0x4af206(0x111)](_0x4eac01[_0x4af206(0xfb)],_0x5c5442[_0x4af206(0xfb)]),_0x49f8de=Math[_0x4af206(0x111)](_0x4eac01[_0x4af206(0xe8)],_0x5c5442[_0x4af206(0xe8)]);let _0x11a2d8;_0x4eac01[_0x4af206(0xfb)]===_0x5c5442[_0x4af206(0xfb)]&&_0x4eac01[_0x4af206(0xe8)]===_0x5c5442[_0x4af206(0xe8)]?(_0x11a2d8=!0x0,this[_0x4af206(0x102)](_0x5c5442)):_0x5c5442[_0x4af206(0xfb)]===_0x289eff&&_0x5c5442[_0x4af206(0xe8)]===_0x49f8de?_0x11a2d8=!0x1:(_0x4eac01[_0x4af206(0xfb)]===_0x289eff&&_0x4eac01[_0x4af206(0xe8)]===_0x49f8de||this[_0x4af206(0xf0)]({'revision':_0x4eac01,'from':_0x49f8de,'to':_0x289eff}),_0x11a2d8=!0x0),_0x11a2d8&&(delete _0x5c5442[_0x4af206(0xe8)],delete _0x5c5442[_0x4af206(0xfb)],delete _0x5c5442[_0x4af206(0x10a)],delete _0x5c5442[_0x4af206(0xe3)],delete _0x5c5442[_0x4af206(0x114)]);}this[_0x4af206(0x105)][_0x4af206(0x124)](_0x5c5442),this[_0x4af206(0x102)](_0x5c5442);}else this[_0x4af206(0x105)][_0x4af206(0xe7)](_0x5c5442);}const _0x1cbd8c=_0x465804[_0x4af206(0x126)]();_0x1cbd8c[_0x4af206(0x10e)]();for(let _0x564257=0x0;_0x564257<_0x1cbd8c[_0x4af206(0xce)]-0x1;_0x564257++){const _0x5d08c3=_0x1cbd8c[_0x564257],_0x1b27ee=_0x1cbd8c[_0x564257+0x1];if(_0x5d08c3[_0x4af206(0xe8)]<_0x1b27ee[_0x4af206(0xfb)]){const _0x1e2de8=_0x1b27ee[_0x4af206(0xfb)],_0x5d7f4a=Math[_0x4af206(0x111)](_0x1e2de8,_0x5d08c3[_0x4af206(0xfb)]);this[_0x4af206(0xf0)]({'revision':_0x5d08c3,'from':_0x1e2de8,'to':_0x5d7f4a});}}}[_0x160bf8(0xf0)]({revision:_0x35931b,from:_0x5d4703,to:_0x1cef76}={}){const _0x315cfd=_0x160bf8,_0x34a489=this[_0x315cfd(0xf4)][_0x315cfd(0xbb)][_0x315cfd(0x10f)](_0x2975c1),_0x2a7551=this[_0x315cfd(0x105)][_0x315cfd(0x11b)]({'revision':_0x35931b,'from':_0x5d4703,'to':_0x1cef76});_0x2a7551[_0x315cfd(0xd2)]=_0x2a7551[_0x315cfd(0x114)][_0x315cfd(0xf2)](_0x4588de=>_0x34a489[_0x315cfd(0xe0)](_0x4588de)),_0x35931b[_0x315cfd(0x107)](_0x2a7551);}[_0x160bf8(0x102)](_0x4bc172){const _0x2a89ea=_0x160bf8,_0xcdeca9={};_0xcdeca9['id']=_0x4bc172['id'];for(const _0x2a7e92 of Object[_0x2a89ea(0xcc)](_0x4bc172))'id'!==_0x2a7e92&&(_0xcdeca9[_0x2a7e92]=void 0x0);this[_0x2a89ea(0x105)][_0x2a89ea(0xc7)](_0xcdeca9['id'],_0xcdeca9,!0x0);}async[_0x160bf8(0x120)](_0x40799f){const _0x23f613=_0x160bf8,_0x4ef4e2=this[_0x23f613(0xf4)][_0x23f613(0xbb)][_0x23f613(0x10f)](_0x2975c1),{connection:_0x3d39b6}=this[_0x23f613(0xf4)][_0x23f613(0xbb)][_0x23f613(0x10f)](_0x1eae00),_0x1ad14b=new Set();for(const _0xec27d4 of _0x40799f){for(const _0x4dee8a of _0xec27d4[_0x23f613(0x114)])_0x160cce(_0x4dee8a);_0xec27d4[_0x23f613(0xf7)]&&_0x160cce(_0xec27d4[_0x23f613(0xf7)]);}if(0x0===_0x1ad14b[_0x23f613(0x109)])return;const _0x4b70f9=await _0x516d39[_0x23f613(0xe2)](_0x3d39b6,Array[_0x23f613(0xdc)](_0x1ad14b));for(const _0x35d5a0 of _0x4b70f9)_0x4ef4e2[_0x23f613(0xe0)](_0x35d5a0['id'])||_0x4ef4e2[_0x23f613(0x101)](_0x35d5a0);function _0x160cce(_0x1acc0f){const _0x184ddb=_0x23f613;_0x4ef4e2[_0x184ddb(0xe0)](_0x1acc0f)||_0x1ad14b[_0x184ddb(0x128)](_0x1acc0f);}}}v[_0x160bf8(0xbe)]=_0x1716d1;export default v;function st(_0x4a186b){const _0x553a9f=_0x160bf8;return _0x4a186b[_0x553a9f(0xc1)][_0x553a9f(0x11a)](_0x553a9f(0x125))||_0x4a186b[_0x553a9f(0xc1)][_0x553a9f(0x11a)](_0x553a9f(0xfe))||_0x4a186b[_0x553a9f(0xc1)][_0x553a9f(0x11a)](_0x553a9f(0xda));}
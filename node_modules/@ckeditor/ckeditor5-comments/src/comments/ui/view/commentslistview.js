/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x41a1ff=_0x215f;(function(_0x229405,_0x241ea2){const _0x17ad93=_0x215f,_0x5229c1=_0x229405();while(!![]){try{const _0x5642cc=-parseInt(_0x17ad93(0x17e))/0x1*(parseInt(_0x17ad93(0x164))/0x2)+-parseInt(_0x17ad93(0x182))/0x3+-parseInt(_0x17ad93(0x17f))/0x4*(-parseInt(_0x17ad93(0x14f))/0x5)+parseInt(_0x17ad93(0x191))/0x6+-parseInt(_0x17ad93(0x16e))/0x7+parseInt(_0x17ad93(0x168))/0x8+parseInt(_0x17ad93(0x192))/0x9;if(_0x5642cc===_0x241ea2)break;else _0x5229c1['push'](_0x5229c1['shift']());}catch(_0x3f9820){_0x5229c1['push'](_0x5229c1['shift']());}}}(_0xa9f6,0x575e2));import{View as _0x34c04a}from'ckeditor5/src/ui.js';import{diff as _0x1369f2,Collection as _0x4e741c}from'ckeditor5/src/utils.js';import{getTranslation as _0x2d7cbb}from'../../../utils/common-translations.js';import _0x1091ee from'./collapsedcommentsview.js';export default class xt extends _0x34c04a{constructor(_0x54deed,_0x1037cd,_0x488054){const _0xc42d66=_0x215f;super(_0x54deed),this[_0xc42d66(0x179)](_0xc42d66(0x190),!0x1),this[_0xc42d66(0x179)](_0xc42d66(0x156),_0x1037cd[_0xc42d66(0x172)][_0xc42d66(0x156)]),this[_0xc42d66(0x179)](_0xc42d66(0x199),!0x1),this[_0xc42d66(0x188)]=_0x1037cd,this[_0xc42d66(0x17a)]=_0x488054,this[_0xc42d66(0x16d)]=this[_0xc42d66(0x195)](),this[_0xc42d66(0x185)]=this[_0xc42d66(0x195)](),this[_0xc42d66(0x157)]=null,this[_0xc42d66(0x194)]=new _0x1091ee(_0x54deed),this[_0xc42d66(0x194)][_0xc42d66(0x187)](_0xc42d66(0x162))['to'](this,_0xc42d66(0x156),_0x596bc1=>_0x596bc1-this[_0xc42d66(0x17a)][_0xc42d66(0x18e)]);for(const _0x23909e of _0x1037cd[_0xc42d66(0x172)])this[_0xc42d66(0x193)](_0x23909e);this[_0xc42d66(0x180)](),this[_0xc42d66(0x17b)](_0x1037cd[_0xc42d66(0x172)],_0xc42d66(0x173),(_0x8f0511,_0x374527)=>{const _0x292b7f=_0xc42d66,_0x49a59e=this[_0x292b7f(0x14e)](_0x374527);this[_0x292b7f(0x156)]++,this[_0x292b7f(0x193)](_0x374527,_0x49a59e),this[_0x292b7f(0x15f)]();}),this[_0xc42d66(0x17b)](_0x1037cd[_0xc42d66(0x172)],_0xc42d66(0x196),(_0x5339db,_0x453bf7)=>{const _0x3f773f=_0xc42d66;this[_0x3f773f(0x156)]--,this[_0x3f773f(0x178)](_0x453bf7),this[_0x3f773f(0x15f)]();}),this[_0xc42d66(0x17b)](_0x1037cd,_0xc42d66(0x171),()=>this[_0xc42d66(0x15f)]()),this[_0xc42d66(0x17b)](_0x1037cd,_0xc42d66(0x174),()=>this[_0xc42d66(0x180)]()),this['on'](_0xc42d66(0x150),()=>this[_0xc42d66(0x15f)]()),this['on'](_0xc42d66(0x18d),()=>this[_0xc42d66(0x15f)]()),this[_0xc42d66(0x18b)]({'tag':'ul','attributes':{'class':[_0xc42d66(0x176)]},'children':this[_0xc42d66(0x185)]});}get[_0x41a1ff(0x160)](){const _0x275a48=_0x41a1ff;return this[_0x275a48(0x188)][_0x275a48(0x159)]>this[_0x275a48(0x17a)][_0x275a48(0x161)]&&!this[_0x275a48(0x199)]&&!this[_0x275a48(0x190)];}[_0x41a1ff(0x15e)](){const _0x2575ed=_0x41a1ff;super[_0x2575ed(0x15e)](),this[_0x2575ed(0x15f)]();}[_0x41a1ff(0x183)](){const _0xd73ad6=_0x41a1ff;this[_0xd73ad6(0x181)][_0xd73ad6(0x183)]();}[_0x41a1ff(0x16a)](){const _0x4d4892=_0x41a1ff;this[_0x4d4892(0x194)][_0x4d4892(0x16a)]();for(const _0x3622ed of this[_0x4d4892(0x16d)])_0x3622ed[_0x4d4892(0x16a)]();super[_0x4d4892(0x16a)]();}[_0x41a1ff(0x15f)](){const _0x439f3f=_0x41a1ff;this[_0x439f3f(0x160)]?this[_0x439f3f(0x17d)]():this[_0x439f3f(0x17c)]();}[_0x41a1ff(0x193)](_0x7318cf,_0x25c9d5){const _0x3d5f81=_0x41a1ff,_0x4e5a5c=new this[(_0x3d5f81(0x17a))][(_0x3d5f81(0x151))](this[_0x3d5f81(0x197)],_0x7318cf,{'maxCommentCharsWhenCollapsed':this[_0x3d5f81(0x17a)][_0x3d5f81(0x155)],'formatDateTime':this[_0x3d5f81(0x17a)][_0x3d5f81(0x184)],'editorConfig':this[_0x3d5f81(0x17a)][_0x3d5f81(0x153)]});_0x4e5a5c[_0x3d5f81(0x16f)]=_0x7318cf['id'],_0x4e5a5c[_0x3d5f81(0x177)](_0x3d5f81(0x15c))['to'](this),_0x4e5a5c[_0x3d5f81(0x177)](_0x3d5f81(0x170))['to'](this),_0x4e5a5c[_0x3d5f81(0x177)](_0x3d5f81(0x175))['to'](this),_0x4e5a5c[_0x3d5f81(0x177)](_0x3d5f81(0x158))['to'](this),_0x4e5a5c[_0x3d5f81(0x177)](_0x3d5f81(0x163))['to'](this),this[_0x3d5f81(0x17b)](_0x4e5a5c,_0x3d5f81(0x15b),()=>this[_0x3d5f81(0x154)]()),this[_0x3d5f81(0x16d)][_0x3d5f81(0x173)](_0x4e5a5c,_0x25c9d5);}[_0x41a1ff(0x14e)](_0x3b6ad9){const _0x29d38e=_0x41a1ff,_0x13af28=this[_0x29d38e(0x188)][_0x29d38e(0x189)](_0x3b6ad9);return this[_0x29d38e(0x157)]?this[_0x29d38e(0x157)][_0x29d38e(0x165)]>_0x3b6ad9[_0x29d38e(0x165)]?_0x13af28-0x1:_0x13af28:_0x13af28-0x1;}[_0x41a1ff(0x180)](){const _0x3458b9=_0x41a1ff;if(this[_0x3458b9(0x188)][_0x3458b9(0x169)]&&this[_0x3458b9(0x188)][_0x3458b9(0x186)]){const _0x5aff6f={'id':_0x3458b9(0x198),'author':this[_0x3458b9(0x188)][_0x3458b9(0x169)],'authoredAt':this[_0x3458b9(0x188)][_0x3458b9(0x186)],'content':_0x2d7cbb(this[_0x3458b9(0x197)],_0x3458b9(0x18f)),'attributes':{}};this[_0x3458b9(0x157)]=new this[(_0x3458b9(0x17a))][(_0x3458b9(0x151))](this[_0x3458b9(0x197)],_0x5aff6f,{'maxCommentCharsWhenCollapsed':this[_0x3458b9(0x17a)][_0x3458b9(0x155)],'formatDateTime':this[_0x3458b9(0x17a)][_0x3458b9(0x184)],'editorConfig':this[_0x3458b9(0x17a)][_0x3458b9(0x153)],'isSystemComment':!0x0}),this[_0x3458b9(0x16d)][_0x3458b9(0x173)](this[_0x3458b9(0x157)],this[_0x3458b9(0x188)][_0x3458b9(0x189)](_0x5aff6f));}else this[_0x3458b9(0x157)]&&(this[_0x3458b9(0x16d)][_0x3458b9(0x196)](this[_0x3458b9(0x157)]),this[_0x3458b9(0x157)][_0x3458b9(0x16a)](),this[_0x3458b9(0x157)]=null);this[_0x3458b9(0x15f)]();}[_0x41a1ff(0x178)](_0x97ef13){const _0x591f33=_0x41a1ff,_0x5a39b9=this[_0x591f33(0x16d)][_0x591f33(0x196)](_0x97ef13['id']);this[_0x591f33(0x166)](_0x5a39b9),_0x5a39b9[_0x591f33(0x16b)]&&this[_0x591f33(0x154)](),_0x5a39b9[_0x591f33(0x16a)]();}[_0x41a1ff(0x154)](){const _0x264fa5=_0x41a1ff;this[_0x264fa5(0x190)]=Array[_0x264fa5(0x16c)](this[_0x264fa5(0x16d)])[_0x264fa5(0x15a)](_0x4de28e=>_0x4de28e[_0x264fa5(0x16b)]);}[_0x41a1ff(0x17d)](){const _0x167d3d=_0x41a1ff,_0x2fd755=function(_0x5206c8){const _0x4198e3=_0x215f,_0x48b3c1=new _0x4e741c();for(const _0x55b82b of _0x5206c8)_0x48b3c1[_0x4198e3(0x173)](_0x55b82b);return _0x48b3c1;}(this[_0x167d3d(0x16d)]),_0x3d8447=this[_0x167d3d(0x194)][_0x167d3d(0x162)];for(let _0x4b8b71=0x1;_0x4b8b71<=_0x3d8447;_0x4b8b71++)_0x2fd755[_0x167d3d(0x196)](0x1);for(const _0x5784b4 of _0x2fd755)_0x5784b4[_0x167d3d(0x152)]();_0x3d8447>0x0&&_0x2fd755[_0x167d3d(0x173)](this[_0x167d3d(0x194)],0x1),is(_0x1369f2(Array[_0x167d3d(0x16c)](this[_0x167d3d(0x185)]),Array[_0x167d3d(0x16c)](_0x2fd755)),this[_0x167d3d(0x185)],_0x2fd755);}[_0x41a1ff(0x17c)](){const _0x23cb1f=_0x41a1ff;is(_0x1369f2(Array[_0x23cb1f(0x16c)](this[_0x23cb1f(0x185)]),Array[_0x23cb1f(0x16c)](this[_0x23cb1f(0x16d)])),this[_0x23cb1f(0x185)],this[_0x23cb1f(0x16d)]);for(const _0x258567 of this[_0x23cb1f(0x185)])_0x258567[_0x23cb1f(0x18c)]();}}function _0x215f(_0x9d0cd9,_0x16d092){const _0xa9f66=_0xa9f6();return _0x215f=function(_0x215fc4,_0xfd16a5){_0x215fc4=_0x215fc4-0x14e;let _0x1dc960=_0xa9f66[_0x215fc4];return _0x1dc960;},_0x215f(_0x9d0cd9,_0x16d092);}function _0xa9f6(){const _0x592263=['742015leLDaX','change:isActive','CommentView','collapse','editorConfig','_updateHasDirtyComment','maxCommentCharsWhenCollapsed','length','resolvedCommentView','editorReady','weight','some','change:isEditMode','removeComment','delete','render','refreshVisibleViews','_shouldCollapse','maxThreadTotalWeight','count','editorDestroyed','64MbIuzx','authoredAt','stopListening','equal','55728VFIxKc','resolvedBy','destroy','isEditMode','from','commentViews','331835JdXhNA','viewUid','updateComment','commentUpdated','comments','add','change:isResolved','resolveCommentThread','ck-thread__comments','delegate','_handleRemoveCommentModel','set','_config','listenTo','_rearrangeExpand','_rearrangeCollapse','8408IZYGTU','4hFCZOR','_handleInfoComment','element','728154DQBdrh','focus','formatDateTime','visibleViews','resolvedAt','bind','_model','_findOptimalIndex','insert','setTemplate','expand','change:hasDirtyComment','maxCommentsWhenCollapsed','Marked\x20as\x20resolved','hasDirtyComment','3782916VcneiT','1180638GIeFLo','_handleNewCommentModel','_collapsedCommentsView','createCollection','remove','locale','resolved','isActive','get','_calculatePosition'];_0xa9f6=function(){return _0x592263;};return _0xa9f6();}function is(_0xf1aac5,_0x19393c,_0x2b7fda){const _0x568ec3=_0x41a1ff;let _0x2c94b4=0x0;for(const _0x21428d of _0xf1aac5)switch(_0x21428d){case _0x568ec3(0x18a):_0x19393c[_0x568ec3(0x173)](_0x2b7fda[_0x568ec3(0x19a)](_0x2c94b4),_0x2c94b4),_0x2c94b4++;break;case _0x568ec3(0x15d):_0x19393c[_0x568ec3(0x196)](_0x2c94b4);break;case _0x568ec3(0x167):_0x2c94b4++;}}
/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x26ad32=_0x4fe2;(function(_0x5ca87b,_0x5a8599){const _0x4ec56e=_0x4fe2,_0xd335f7=_0x5ca87b();while(!![]){try{const _0x1f27ce=parseInt(_0x4ec56e(0x209))/0x1+parseInt(_0x4ec56e(0x227))/0x2*(-parseInt(_0x4ec56e(0x22f))/0x3)+parseInt(_0x4ec56e(0x20f))/0x4+parseInt(_0x4ec56e(0x205))/0x5*(-parseInt(_0x4ec56e(0x216))/0x6)+-parseInt(_0x4ec56e(0x242))/0x7*(-parseInt(_0x4ec56e(0x208))/0x8)+-parseInt(_0x4ec56e(0x233))/0x9*(-parseInt(_0x4ec56e(0x231))/0xa)+parseInt(_0x4ec56e(0x229))/0xb;if(_0x1f27ce===_0x5a8599)break;else _0xd335f7['push'](_0xd335f7['shift']());}catch(_0xe1cf5c){_0xd335f7['push'](_0xd335f7['shift']());}}}(_0xff2a,0x50a0b));import{Plugin as _0x2b2706}from'ckeditor5/src/core.js';import _0x208ac2 from'./annotationsuis.js';import _0x1b85c4 from'./editorannotations.js';import{ContextualBalloon as _0x2364be}from'ckeditor5/src/ui.js';import{MouseObserver as _0x3a0f22}from'ckeditor5/src/engine.js';import{CKEditorError as _0x4dd959,Rect as _0x38cf98}from'ckeditor5/src/utils.js';import'./../../theme/annotation-inline.css';function _0x4fe2(_0x185e31,_0x404827){const _0xff2a8d=_0xff2a();return _0x4fe2=function(_0x4fe26d,_0x5ac056){_0x4fe26d=_0x4fe26d-0x1e2;let _0x53065f=_0xff2a8d[_0x4fe26d];return _0x53065f;},_0x4fe2(_0x185e31,_0x404827);}function _0xff2a(){const _0x102543=['keystrokes','_forceRefresh','InlineAnnotations','right','_getBalloonTargetForAnnotation','getOrderedSelectedAnnotations','7tlRKyu','bottom','remove','from','add','detach','visibleView','Esc','document','refresh','collapse','set','mousedown','addObserver','targetRect','includes','afterInit','init','view','register','length','change:visibleView','_manuallyClosed','_balloon','isAttached','annotations','hasView','_removeAnnotationFromBalloon','hasActive','target','viewRangeToDom','delete','top','focus','editableElement','push','_addAnnotationToBalloon','3050YJssDx','_setSelectedAnnotations','domConverter','4938368OevVsF','252012xACMcT','map','listenTo','getClientRects','getBoundingClientRect','getFirstRange','1301032BzfqDn','switchTo','inlineannotations-attach-already-attached','showStack','width','updatePosition','update','5496xyCnLx','clear','selection','inline','plugins','change:isFocused','_selectedAnnotations','editing','get','getByView','attach','change:height','setActiveAnnotation','find','left','activeAnnotation','requires','656wPNJcs','has','1257157uwllfM','isActive','every','blur','_addedAnnotations','isFocused','3852iotHDo','_closeAnnotation','50taldFW','context','2358RyKxPz','fromRect','stopListening','destroy','focusTracker','pluginName','inlineannotations-detach-not-attached','inlineannotations-not-allowed-with-context','editor'];_0xff2a=function(){return _0x102543;};return _0xff2a();}export default class c extends _0x2b2706{static get[_0x26ad32(0x226)](){return[_0x1b85c4,_0x2364be,_0x208ac2];}static get[_0x26ad32(0x238)](){const _0x4c64c7=_0x26ad32;return _0x4c64c7(0x23e);}constructor(_0x258160){const _0x418045=_0x26ad32;super(_0x258160),_0x258160[_0x418045(0x21d)][_0x418045(0x1f2)][_0x418045(0x1ed)](_0x3a0f22),this[_0x418045(0x1f8)]=!0x1,this[_0x418045(0x1eb)](_0x418045(0x225),null),this[_0x418045(0x1f9)]=null,this[_0x418045(0x1f6)]=new Set(),this[_0x418045(0x1f7)]=_0x258160[_0x418045(0x21a)][_0x418045(0x21e)](_0x2364be),this[_0x418045(0x22d)]=new Set(),this[_0x418045(0x21c)]=[],this[_0x418045(0x23d)]=!0x1;}[_0x26ad32(0x1f1)](){const _0x4904c8=_0x26ad32,_0x2e8d6d=this[_0x4904c8(0x23b)][_0x4904c8(0x21a)][_0x4904c8(0x21e)](_0x208ac2);_0x2e8d6d[_0x4904c8(0x232)]===this[_0x4904c8(0x23b)]&&(_0x2e8d6d[_0x4904c8(0x1f3)](_0x4904c8(0x219),this),this[_0x4904c8(0x23b)][_0x4904c8(0x23c)][_0x4904c8(0x1eb)](_0x4904c8(0x1e7),(_0x211fba,_0x105ce2)=>{const _0x1236b6=_0x4904c8,_0x387af7=this[_0x1236b6(0x1f7)];if(this[_0x1236b6(0x1f8)]&&_0x387af7[_0x1236b6(0x1e6)]){const _0x944131=this[_0x1236b6(0x1f9)][_0x1236b6(0x21f)](_0x387af7[_0x1236b6(0x1e6)]);_0x944131&&this[_0x1236b6(0x230)](_0x944131),_0x105ce2();}}));}[_0x26ad32(0x1f0)](){const _0x50fd4d=_0x26ad32,_0x52dddd=this[_0x50fd4d(0x23b)][_0x50fd4d(0x21a)][_0x50fd4d(0x21e)](_0x208ac2);_0x52dddd[_0x50fd4d(0x232)]===this[_0x50fd4d(0x23b)]&&(_0x52dddd[_0x50fd4d(0x1fc)]()||_0x52dddd[_0x50fd4d(0x210)](_0x50fd4d(0x219)));}[_0x26ad32(0x222)](_0x46b239){const _0x29c851=_0x26ad32;_0x46b239!==this[_0x29c851(0x225)]&&(this[_0x29c851(0x225)]&&(this[_0x29c851(0x225)][_0x29c851(0x22a)]=!0x1),_0x46b239&&this[_0x29c851(0x23b)]['ui'][_0x29c851(0x237)][_0x29c851(0x22e)]&&(this[_0x29c851(0x1f9)][_0x29c851(0x228)](_0x46b239)&&this[_0x29c851(0x204)](_0x46b239,!0x0),_0x46b239[_0x29c851(0x22a)]=!0x0),_0x46b239||this[_0x29c851(0x206)]([]),this[_0x29c851(0x225)]=_0x46b239);}[_0x26ad32(0x220)](_0x5680aa){const _0x1b25ef=_0x26ad32;this[_0x1b25ef(0x1f9)]=_0x5680aa;const _0x2d95df=this[_0x1b25ef(0x23b)][_0x1b25ef(0x21a)][_0x1b25ef(0x21e)](_0x208ac2),_0x44ccf5=this[_0x1b25ef(0x1f7)];if(this[_0x1b25ef(0x1f8)])throw new _0x4dd959(_0x1b25ef(0x211),this);if(_0x2d95df[_0x1b25ef(0x232)]!==this[_0x1b25ef(0x23b)])throw new _0x4dd959(_0x1b25ef(0x23a),this);const _0xfcbea5=this[_0x1b25ef(0x23b)][_0x1b25ef(0x21a)][_0x1b25ef(0x21e)](_0x1b85c4);this[_0x1b25ef(0x20b)](_0xfcbea5,_0x1b25ef(0x1e9),()=>{const _0x156201=_0x1b25ef,_0x590cf8=_0xfcbea5[_0x156201(0x241)]({'annotations':this[_0x156201(0x1f9)],'activeAnnotation':this[_0x156201(0x225)]});var _0x2be87b,_0x3ebd2f;!this[_0x156201(0x23d)]&&(_0x2be87b=_0x590cf8,_0x3ebd2f=this[_0x156201(0x21c)],_0x2be87b[_0x156201(0x1f4)]===_0x3ebd2f[_0x156201(0x1f4)]&&_0x2be87b[_0x156201(0x22b)](_0x1f4fe5=>_0x3ebd2f[_0x156201(0x1ef)](_0x1f4fe5)))||(this[_0x156201(0x23d)]=!0x1,this[_0x156201(0x206)](_0x590cf8),this[_0x156201(0x222)](_0x590cf8[0x0]||null));}),this[_0x1b25ef(0x20b)](_0xfcbea5,_0x1b25ef(0x22c),(_0x5de650,{isAnnotationTracked:_0x450cef})=>{const _0x235506=_0x1b25ef;this[_0x235506(0x225)]&&_0x450cef(this[_0x235506(0x225)])&&(this[_0x235506(0x206)]([]),this[_0x235506(0x222)](null));}),this[_0x1b25ef(0x20b)](this[_0x1b25ef(0x23b)]['ui'][_0x1b25ef(0x237)],_0x1b25ef(0x21b),(_0x22ca86,_0x359a1f,_0xd0a952)=>{const _0x20008d=_0x1b25ef;_0xd0a952||this[_0x20008d(0x222)](null);}),this[_0x1b25ef(0x20b)](_0x5680aa,_0x1b25ef(0x1e2),(_0x386d29,_0x27aae8)=>{const _0x491879=_0x1b25ef;this[_0x491879(0x1fb)](_0x27aae8),_0x27aae8===this[_0x491879(0x225)]&&this[_0x491879(0x222)](null);}),this[_0x1b25ef(0x20b)](_0x44ccf5,_0x1b25ef(0x1f5),(_0x2857e1,_0x34a228,_0x358441,_0x534cb0)=>{const _0x4671b1=_0x1b25ef;_0x534cb0&&this[_0x4671b1(0x235)](_0x534cb0);const _0x170c1f=_0x5680aa[_0x4671b1(0x21f)](_0x358441);_0x358441&&_0x170c1f&&(this[_0x4671b1(0x20b)](_0x358441,_0x4671b1(0x221),()=>{const _0x29bf09=_0x4671b1;_0x44ccf5[_0x29bf09(0x214)]();}),this[_0x4671b1(0x20b)](_0x358441,_0x4671b1(0x1e7),()=>{const _0x2b74c4=_0x4671b1;this[_0x2b74c4(0x230)](_0x170c1f),this[_0x2b74c4(0x23b)][_0x2b74c4(0x21d)][_0x2b74c4(0x1f2)][_0x2b74c4(0x201)]();}),this[_0x4671b1(0x225)]!==_0x170c1f&&this[_0x4671b1(0x222)](_0x170c1f));}),this[_0x1b25ef(0x20b)](this[_0x1b25ef(0x23b)]['ui'],_0x1b25ef(0x215),()=>{const _0x5296d5=_0x1b25ef;_0x44ccf5[_0x5296d5(0x1e6)]&&(_0x5680aa[_0x5296d5(0x21f)](_0x44ccf5[_0x5296d5(0x1e6)])&&_0x44ccf5[_0x5296d5(0x214)]());}),this[_0x1b25ef(0x20b)](this[_0x1b25ef(0x23b)][_0x1b25ef(0x21d)][_0x1b25ef(0x1f2)][_0x1b25ef(0x1e8)],_0x1b25ef(0x1ec),()=>{const _0x43e7ee=_0x1b25ef;this[_0x43e7ee(0x23d)]=!0x0,this[_0x43e7ee(0x1f6)][_0x43e7ee(0x217)]();}),this[_0x1b25ef(0x23b)][_0x1b25ef(0x21d)][_0x1b25ef(0x1f2)][_0x1b25ef(0x1e8)][_0x1b25ef(0x218)][_0x1b25ef(0x202)]&&this[_0x1b25ef(0x23b)][_0x1b25ef(0x21d)][_0x1b25ef(0x1f2)][_0x1b25ef(0x201)](),this[_0x1b25ef(0x1f8)]=!0x0;}[_0x26ad32(0x1e5)](){const _0x1c5ee3=_0x26ad32;if(!this[_0x1c5ee3(0x1f8)])throw new _0x4dd959(_0x1c5ee3(0x239),this);this[_0x1c5ee3(0x222)](null);for(const _0x7570ce of this[_0x1c5ee3(0x22d)])this[_0x1c5ee3(0x1fb)](_0x7570ce);this[_0x1c5ee3(0x235)](),this[_0x1c5ee3(0x1f8)]=!0x1,this[_0x1c5ee3(0x1f9)]=null;}[_0x26ad32(0x236)](){const _0x1a209a=_0x26ad32;this[_0x1a209a(0x1f8)]&&this[_0x1a209a(0x1e5)]();}[_0x26ad32(0x206)](_0x2902b3){const _0x154fde=_0x26ad32;for(const _0x1b0782 of this[_0x154fde(0x21c)])_0x2902b3[_0x154fde(0x1ef)](_0x1b0782)||this[_0x154fde(0x1f6)][_0x154fde(0x1ff)](_0x1b0782);for(const _0x3087b5 of this[_0x154fde(0x1f9)])_0x2902b3[_0x154fde(0x1ef)](_0x3087b5)||this[_0x154fde(0x1fb)](_0x3087b5);if(this[_0x154fde(0x23b)]['ui'][_0x154fde(0x237)][_0x154fde(0x22e)]){for(const _0x5294e7 of _0x2902b3)this[_0x154fde(0x204)](_0x5294e7);}this[_0x154fde(0x21c)]=_0x2902b3;}[_0x26ad32(0x204)](_0x3a1901,_0x36a5bb=!0x1){const _0x6c863f=_0x26ad32;this[_0x6c863f(0x1f6)][_0x6c863f(0x228)](_0x3a1901)||(this[_0x6c863f(0x22d)][_0x6c863f(0x228)](_0x3a1901)||this[_0x6c863f(0x1f7)][_0x6c863f(0x1fa)](_0x3a1901[_0x6c863f(0x1f2)])||(this[_0x6c863f(0x22d)][_0x6c863f(0x1e4)](_0x3a1901),this[_0x6c863f(0x1f7)][_0x6c863f(0x1e4)]({'stackId':_0x3a1901[_0x6c863f(0x1f2)]['id'],'view':_0x3a1901[_0x6c863f(0x1f2)],'position':{'target':()=>this[_0x6c863f(0x240)](_0x3a1901)}})),_0x36a5bb&&this[_0x6c863f(0x1f7)][_0x6c863f(0x212)](_0x3a1901[_0x6c863f(0x1f2)]['id']));}[_0x26ad32(0x240)](_0xaffb58){const _0x353f67=_0x26ad32,_0x35bb8d=_0xaffb58[_0x353f67(0x1fd)],_0x878eb5=this[_0x353f67(0x23b)][_0x353f67(0x21d)][_0x353f67(0x1f2)],_0x28b935=_0x878eb5[_0x353f67(0x1e8)][_0x353f67(0x218)][_0x353f67(0x20e)](),_0x2a4aeb=_0x878eb5[_0x353f67(0x207)][_0x353f67(0x1fe)](_0x28b935);if(_0x2a4aeb[_0x353f67(0x1ea)](!0x0),_0x35bb8d){if(_0x35bb8d instanceof _0x38cf98)return _0x35bb8d;let _0x1cd323=[];for(const _0x49caf of _0x35bb8d)_0x1cd323[_0x353f67(0x203)](...(_0x40711d=_0x49caf[_0x353f67(0x20c)](),Array[_0x353f67(0x1e3)](_0x40711d)[_0x353f67(0x20a)](DOMRect[_0x353f67(0x234)])));_0x1cd323=function(_0x53d36e){const _0x103a7d=_0x353f67,_0x430aea=[];let _0x10d900=_0x53d36e[0x0];for(let _0x2da115=0x1;_0x2da115<_0x53d36e[_0x103a7d(0x1f4)];_0x2da115++)F(_0x10d900,_0x53d36e[_0x2da115])?_0x10d900[_0x103a7d(0x213)]+=_0x53d36e[_0x2da115][_0x103a7d(0x213)]:(_0x430aea[_0x103a7d(0x203)](_0x10d900),_0x10d900=_0x53d36e[_0x2da115]);return _0x430aea[_0x103a7d(0x203)](_0x10d900),_0x430aea;}(_0x1cd323);const _0x1d3071=_0x2a4aeb[_0x353f67(0x20d)]();return _0x1cd323[_0x353f67(0x223)](_0x5ed8a8=>_0x5ed8a8[_0x353f67(0x200)]<=_0x1d3071[_0x353f67(0x200)]&&_0x5ed8a8[_0x353f67(0x243)]>=_0x1d3071[_0x353f67(0x243)]&&_0x5ed8a8[_0x353f67(0x224)]<=_0x1d3071[_0x353f67(0x224)]&&_0x5ed8a8[_0x353f67(0x23f)]>=_0x1d3071[_0x353f67(0x23f)])||_0x1cd323[0x0];}var _0x40711d;return _0xaffb58[_0x353f67(0x1ee)]||_0x2a4aeb;}[_0x26ad32(0x1fb)](_0x52e8ba){const _0x5b7fe7=_0x26ad32;this[_0x5b7fe7(0x22d)][_0x5b7fe7(0x228)](_0x52e8ba)&&this[_0x5b7fe7(0x1f7)][_0x5b7fe7(0x1fa)](_0x52e8ba[_0x5b7fe7(0x1f2)])&&(this[_0x5b7fe7(0x22d)][_0x5b7fe7(0x1ff)](_0x52e8ba),this[_0x5b7fe7(0x1f7)][_0x5b7fe7(0x1e2)](_0x52e8ba[_0x5b7fe7(0x1f2)]));}[_0x26ad32(0x230)](_0x4e6a6d){const _0xfd1261=_0x26ad32;this[_0xfd1261(0x1f6)][_0xfd1261(0x1e4)](_0x4e6a6d),this[_0xfd1261(0x1fb)](_0x4e6a6d);}}function F(_0x2a75c,_0x1154ca){const _0x7dcc22=_0x26ad32;return _0x2a75c[_0x7dcc22(0x200)]===_0x1154ca[_0x7dcc22(0x200)]&&_0x2a75c[_0x7dcc22(0x243)]===_0x1154ca[_0x7dcc22(0x243)]&&_0x2a75c[_0x7dcc22(0x23f)]===_0x1154ca[_0x7dcc22(0x224)];}
/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xcc2a46=_0x4734;function _0x4734(_0x4fa765,_0x2d42b5){const _0x2b6bf8=_0x2b6b();return _0x4734=function(_0x4734cd,_0x120d45){_0x4734cd=_0x4734cd-0x19d;let _0x29bb47=_0x2b6bf8[_0x4734cd];return _0x29bb47;},_0x4734(_0x4fa765,_0x2d42b5);}(function(_0x3edfa4,_0xcae843){const _0x280f15=_0x4734,_0x276799=_0x3edfa4();while(!![]){try{const _0x3ffd87=-parseInt(_0x280f15(0x1d6))/0x1*(parseInt(_0x280f15(0x1bc))/0x2)+-parseInt(_0x280f15(0x1ab))/0x3+parseInt(_0x280f15(0x19e))/0x4+-parseInt(_0x280f15(0x1c3))/0x5+-parseInt(_0x280f15(0x1aa))/0x6+parseInt(_0x280f15(0x1c7))/0x7+parseInt(_0x280f15(0x1de))/0x8;if(_0x3ffd87===_0xcae843)break;else _0x276799['push'](_0x276799['shift']());}catch(_0x209cc5){_0x276799['push'](_0x276799['shift']());}}}(_0x2b6b,0xdc24d));import{ContextPlugin as _0x44663e,Context as _0xd0a32d}from'ckeditor5/src/core.js';function _0x2b6b(){const _0x50c8a9=['widesidebar-attach-already-attached','change:container','isAttached','requires','widesidebar-detach-not-attached','4388935jnmKwz','_destroyEditorAnnotationsIntegration','get','_annotations','3038861uPeqCP','blur','_detachFromContainer','add','off','_editorAnnotations','pluginName','destroy','stopListening','_attachToContainer','register','activeAnnotation','getOrderedSelectedAnnotations','context','refreshPositioning','11JhjuWP','updateTargetRect','addAnnotation','container','detach','stop','cancel','WideSidebar','34557616yopMrB','removeEventListener','12084BJUzwD','addEventListener','_refreshPositioningDebounced','switchTo','focus','EditorAnnotations','rearrange','remove','init','wideSidebar','plugins','annotations','4587174fmVmNK','4724562KCwcYQ','high','listenTo','setActiveAnnotation','set:container','resize','_integrateWithEditorAnnotations','_activeAnnotation','has','refresh','hasDomSelection','set','ck-sidebar--wide','editors','from','attach','uiUpdate','115994IPFgXh','ready'];_0x2b6b=function(){return _0x50c8a9;};return _0x2b6b();}import _0x2e266b from'./annotationsuis.js';import _0x1bb966 from'./sidebar.js';import{CKEditorError as _0x151bd0,Collection as _0x16ed12}from'ckeditor5/src/utils.js';import{debounce as _0x1cf57a}from'lodash-es';export default class n extends _0x44663e{static get[_0xcc2a46(0x1c1)](){return[_0x1bb966,_0x2e266b];}static get[_0xcc2a46(0x1cd)](){const _0x5b274c=_0xcc2a46;return _0x5b274c(0x1dd);}constructor(_0x9a57a){const _0x53ba6b=_0xcc2a46;super(_0x9a57a),this[_0x53ba6b(0x1c0)]=!0x1,this[_0x53ba6b(0x1b6)](_0x53ba6b(0x1d2),null),this[_0x53ba6b(0x1a9)]=null,this[_0x53ba6b(0x1cc)]=new _0x16ed12(),this[_0x53ba6b(0x1a0)]=_0x1cf57a(()=>{const _0x23a7cc=_0x53ba6b;this[_0x23a7cc(0x1a9)][_0x23a7cc(0x1d5)]();},0xfa,{'leading':!0x1});}[_0xcc2a46(0x1a6)](){const _0x107561=_0xcc2a46,_0x11f1a2=this[_0x107561(0x1d4)][_0x107561(0x1a8)][_0x107561(0x1c5)](_0x2e266b),_0x5bb756=this[_0x107561(0x1d4)][_0x107561(0x1a8)][_0x107561(0x1c5)](_0x1bb966);_0x11f1a2[_0x107561(0x1d1)](_0x107561(0x1a7),this),_0x5bb756[_0x107561(0x1d9)]&&_0x11f1a2[_0x107561(0x1a1)](_0x107561(0x1a7));}[_0xcc2a46(0x1ae)](_0x29465a){const _0x1a282b=_0xcc2a46;if(_0x29465a===this[_0x1a282b(0x1d2)])return;const _0x338038=this[_0x1a282b(0x1d4)][_0x1a282b(0x1a8)][_0x1a282b(0x1c5)](_0x1bb966);_0x338038[_0x1a282b(0x1b2)]=_0x29465a;const _0x4bee4a=this[_0x1a282b(0x1d2)];this[_0x1a282b(0x1d2)]=_0x29465a,_0x338038[_0x1a282b(0x1b4)]({'blurredAnnotation':_0x4bee4a,'activatedAnnotation':this[_0x1a282b(0x1d2)]});}[_0xcc2a46(0x1ba)](_0x4184bf){const _0x1d94a7=_0xcc2a46;this[_0x1d94a7(0x1a9)]=_0x4184bf;const _0x34869c=this[_0x1d94a7(0x1d4)][_0x1d94a7(0x1a8)][_0x1d94a7(0x1c5)](_0x1bb966);if(_0x34869c[_0x1d94a7(0x1c6)]=_0x4184bf,this[_0x1d94a7(0x1c0)])throw new _0x151bd0(_0x1d94a7(0x1be),this);this[_0x1d94a7(0x1c0)]=!0x0,this[_0x1d94a7(0x1ad)](_0x34869c,_0x1d94a7(0x1af),()=>{const _0x5d58c2=_0x1d94a7;this[_0x5d58c2(0x1da)](),this[_0x5d58c2(0x1ad)](_0x34869c,_0x5d58c2(0x1bf),_0x5e638c=>{const _0x2468f1=_0x5d58c2;_0x5e638c[_0x2468f1(0x1cb)](),this[_0x2468f1(0x1ba)](_0x4184bf);});}),_0x34869c[_0x1d94a7(0x1d0)]({'viewClass':_0x1d94a7(0x1b7)});const _0x1024da=_0x52b1ef=>{const _0x22c14b=_0x1d94a7;_0x52b1ef[_0x22c14b(0x1d7)](),_0x34869c[_0x22c14b(0x1d8)](_0x52b1ef);};for(const _0x377b9d of _0x4184bf)_0x1024da(_0x377b9d);this[_0x1d94a7(0x1ad)](_0x4184bf,_0x1d94a7(0x1ca),(_0x411b3a,_0x320f99)=>{_0x1024da(_0x320f99);}),this[_0x1d94a7(0x1ad)](_0x4184bf,_0x1d94a7(0x1a5),(_0x4f3b7e,_0x411100,_0x597b60)=>{const _0xeb643e=_0x1d94a7;_0x34869c[_0xeb643e(0x1a4)]({'removedAnnotation':_0x411100,'previousAnnotation':_0x4184bf[_0xeb643e(0x1c5)](_0x597b60-0x1),'nextAnnotation':_0x4184bf[_0xeb643e(0x1c5)](_0x597b60+0x1)}),_0x411100===this[_0xeb643e(0x1d2)]&&this[_0xeb643e(0x1ae)](null);},{'priority':_0x1d94a7(0x1ac)}),this[_0x1d94a7(0x1ad)](_0x4184bf,_0x1d94a7(0x1a2),(_0x2e53a3,_0x434c69)=>{const _0x56b766=_0x1d94a7;this[_0x56b766(0x1ae)](_0x434c69);}),this[_0x1d94a7(0x1ad)](_0x4184bf,_0x1d94a7(0x1c8),()=>{const _0x4f13ca=_0x1d94a7;this[_0x4f13ca(0x1ae)](null);});const _0x48f2b7=this[_0x1d94a7(0x1d4)]instanceof _0xd0a32d?this[_0x1d94a7(0x1d4)][_0x1d94a7(0x1b8)]:new _0x16ed12([this[_0x1d94a7(0x1d4)]]);for(const _0xf6fb80 of _0x48f2b7)this[_0x1d94a7(0x1b1)](_0xf6fb80);this[_0x1d94a7(0x1ad)](_0x48f2b7,_0x1d94a7(0x1ca),(_0x66c185,_0x22195d)=>{const _0x2dbf57=_0x1d94a7;this[_0x2dbf57(0x1ad)](_0x22195d,_0x2dbf57(0x1bd),()=>{const _0x32cfb4=_0x2dbf57;this[_0x32cfb4(0x1b1)](_0x22195d);});}),this[_0x1d94a7(0x1ad)](_0x48f2b7,_0x1d94a7(0x1a5),(_0x1f54af,_0x4a155a)=>{const _0x2822b8=_0x1d94a7;_0x4a155a[_0x2822b8(0x1a8)][_0x2822b8(0x1b3)](_0x2822b8(0x1a3))&&this[_0x2822b8(0x1c4)](_0x4a155a[_0x2822b8(0x1a8)][_0x2822b8(0x1c5)](_0x2822b8(0x1a3)));}),window[_0x1d94a7(0x19f)](_0x1d94a7(0x1b0),this[_0x1d94a7(0x1a0)]),this[_0x1d94a7(0x1a9)][_0x1d94a7(0x1d5)]();}[_0xcc2a46(0x1da)](){const _0x285b1e=_0xcc2a46;if(!this[_0x285b1e(0x1c0)])throw new _0x151bd0(_0x285b1e(0x1c2),this);this[_0x285b1e(0x1ae)](null);const _0x114612=this[_0x285b1e(0x1d4)][_0x285b1e(0x1a8)][_0x285b1e(0x1c5)](_0x1bb966);_0x114612[_0x285b1e(0x1c9)](this[_0x285b1e(0x1a9)]),this[_0x285b1e(0x1cf)](_0x114612),this[_0x285b1e(0x1cf)](this[_0x285b1e(0x1a9)]),this[_0x285b1e(0x1d4)]instanceof _0xd0a32d&&this[_0x285b1e(0x1cf)](this[_0x285b1e(0x1d4)][_0x285b1e(0x1b8)]);for(const _0x108935 of Array[_0x285b1e(0x1b9)](this[_0x285b1e(0x1cc)]))this[_0x285b1e(0x1c4)](_0x108935);window[_0x285b1e(0x19d)](_0x285b1e(0x1b0),this[_0x285b1e(0x1a0)]),this[_0x285b1e(0x1a0)][_0x285b1e(0x1dc)](),this[_0x285b1e(0x1d2)]=null,this[_0x285b1e(0x1c0)]=!0x1,this[_0x285b1e(0x1a9)]=null;}[_0xcc2a46(0x1ce)](){const _0x3517a9=_0xcc2a46;this[_0x3517a9(0x1c0)]&&this[_0x3517a9(0x1da)]();}[_0xcc2a46(0x1b1)](_0x58417c){const _0x5a1b2a=_0xcc2a46;if(!_0x58417c[_0x5a1b2a(0x1a8)][_0x5a1b2a(0x1b3)](_0x5a1b2a(0x1a3)))return;const _0x231a71=_0x58417c[_0x5a1b2a(0x1a8)][_0x5a1b2a(0x1c5)](_0x5a1b2a(0x1a3)),_0x2c77e8=()=>{const _0x303082=_0x5a1b2a,_0xf8aba5=_0x231a71[_0x303082(0x1d3)]({'annotations':this[_0x303082(0x1a9)],'activeAnnotation':this[_0x303082(0x1d2)]});this[_0x303082(0x1ae)](_0xf8aba5[0x0]||null);};this[_0x5a1b2a(0x1ad)](_0x231a71,_0x5a1b2a(0x1b4),_0x2c77e8),this[_0x5a1b2a(0x1ad)](_0x231a71,_0x5a1b2a(0x1c8),(_0x2fe2d5,{isAnnotationTracked:_0x5f39bb})=>{const _0x59905b=_0x5a1b2a;this[_0x59905b(0x1d2)]&&_0x5f39bb(this[_0x59905b(0x1d2)])&&this[_0x59905b(0x1ae)](null);}),this[_0x5a1b2a(0x1ad)](_0x231a71,_0x5a1b2a(0x1bb),()=>{const _0x4f1aad=_0x5a1b2a;this[_0x4f1aad(0x1a0)]();}),this[_0x5a1b2a(0x1ad)](this[_0x5a1b2a(0x1a9)],_0x5a1b2a(0x1c8),_0x2e630e=>{const _0x5c30b8=_0x5a1b2a;_0x231a71[_0x5c30b8(0x1b5)]()&&(_0x2c77e8(),_0x2e630e[_0x5c30b8(0x1db)]());},{'priority':_0x5a1b2a(0x1ac)}),this[_0x5a1b2a(0x1cc)][_0x5a1b2a(0x1ca)](_0x231a71);}[_0xcc2a46(0x1c4)](_0x569304){const _0x23cda3=_0xcc2a46;this[_0x23cda3(0x1cf)](_0x569304),this[_0x23cda3(0x1cc)][_0x23cda3(0x1a5)](_0x569304);}}